{"version":3,"sources":["store/tasks/types.ts","utils/constants.tsx","utils/data/database.ts","assets/images/juggler.svg","components/nav/actions.menu.tsx","store/settings/types.ts","components/nav/settings.form.tsx","store/settings/actions.ts","components/tooltippedbutton/tooltippedbutton.tsx","components/nav/navbar.tsx","components/overlays/add-edit.dialog.tsx","components/overlays/database.dialogs.tsx","components/overlays/delete.alert.tsx","components/animation/animation.tsx","components/tasks/task.card.tsx","components/tasks/task.group.tsx","store/tasks/actions.ts","components/app/app.tsx","serviceWorker.ts","store/settings/reducer.ts","store/tasks/reducer.ts","store/index.ts","index.tsx"],"names":["SELECT_TASK","DARK_THEME","Classes","DARK","ALL_PROJECTS","OK","validateProjectName","db","name","length","valid","reason","projects","find","p","toUpperCase","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref","svgRef","title","props","id","x","y","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","forwardRef","ActionsMenu","openAddProjDialog","openEditProjDialog","selectedProject","openDeleteProjAlert","dumpDataBase","loadDataBase","Divider","Item","text","icon","onClick","disabled","intent","SET_THEME","connect","state","theme","settings","showOrphan","showButtonText","dispatch","setTheme","type","payload","setShowOrphan","setShowButtonText","padding","margin","alignIndicator","Alignment","RIGHT","checked","onChange","newTheme","localStorage","setItem","prefix","newShowOrphan","String","newShowButtonText","TooltippedButton","position","otherProps","content","setSelectedProject","dataBase","desc","useState","logoClass","setLogoClass","logoAnimation","logoAnimationIdx","setLogoAnimationIdx","Group","align","LEFT","Heading","fontWeight","display","alignItems","onMouseEnter","onMouseLeave","className","animationIterationCount","height","fill","marginLeft","large","selectedTabId","map","Tab","Position","BOTTOM","minimal","AddEditDialog","what","action","dialogProps","charAt","slice","canOutsideClickClose","DIALOG_BODY","children","DIALOG_FOOTER","DIALOG_FOOTER_ACTIONS","onClose","Intent","PRIMARY","AddEditProjectDialog","errorMessage","onNameChange","onDescChange","helperText","label","labelFor","labelInfo","inline","placeholder","value","autoFocus","width","AddProjectDialog","add","validateName","setName","setDesc","setDisabled","setErrorMessage","e","EditProjectDialog","project","edit","useEffect","update","newName","newDesc","AddEditTaskDialog","taskTitle","duration","onTitleChange","onDurationChange","AddTaskDialog","setTitle","fileSaver","require","fileReader","FileReader","DumpDataBaseDialog","isOpen","dump","onClipboard","readOnly","minHeight","defaultValue","document","getElementById","select","execCommand","blob","Blob","saveAs","LoadDataBaseDialog","onLoad","input","setInput","file","setFile","loadAndClose","marginBottom","event","buttonText","inputProps","accept","multiple","currentTarget","hie","onload","result","readAsText","files","DeleteAlert","deletionTargetName","alertProps","cancelButtonText","DANGER","canEscapeKeyCancel","canOutsideClickCancel","Animation","customClass","customStyle","enteringAnimation","enteredAnimation","exitingAnimation","exitedAnimation","transitionProps","classFrom","ENTERING","ENTERED","EXITING","EXITED","Transition","TaskCard","selected","interactive","elevation","Elevation","TWO","border","selectedIds","tasks","selectTask","unselectTask","show","openAddTaskDialog","openDeleteTaskAlert","filteredTasks","filter","t","projectId","in","timeout","unmountOnExit","marginRight","TOP","includes","every","some","forEach","marginTop","gridTemplateColumns","gridGap","task","unselectAll","localDB","toaster","deleteProjAlertOpen","addProjDialogOpen","editProjDialogOpen","deleteTaskAlertOpen","addTaskDialogOpen","dumpDBDialogOpen","openDumpDBDialog","loadDBDialogOpen","openLoadDBDialog","localDBStr","getItem","JSON","parse","error","initialProjectId","initialTaskId","createFakeDataBase","setDataBase","updateDataBase","stringify","deleteProject","ReactDOM","createPortal","addToast","message","addEventListener","keyCode","ESCAPE","removeEventListener","reduce","c","Math","max","push","confirmButtonText","onCancel","onConfirm","console","log","SUCCESS","newDatabase","WARNING","Array","isArray","projectsIds","undefined","tasksIds","validateDB","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","INITIAL_STATE","settingsReducer","tasksReducer","concat","reducers","combineReducers","middlewares","logger","store","createStore","composeWithDevTools","applyMiddleware","Toaster","create","render","URL","process","href","origin","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.cb4e06e0.chunk.js","sourcesContent":["import { Action } from 'redux';\n\n// Tasks level state object\nexport type TasksState = {\n\tselected: number[];\n};\n\nexport const SELECT_TASK = '@@settings/SELECT_TASK';\nexport const UNSELECT_TASK = '@@settings/UNSELECT_TASK';\nexport const UNSELECT_ALL = '@@settings/UNSELECT_ALL';\n\nexport interface SelectTaskAction extends Action {\n\ttype: typeof SELECT_TASK;\n\tpayload: number;\n}\n\nexport interface UnselectTaskAction extends Action {\n\ttype: typeof UNSELECT_TASK;\n\tpayload: number;\n}\n\nexport interface UnselectAllAction extends Action {\n\ttype: typeof UNSELECT_ALL;\n}\n\nexport type TasksActionTypes =\n\t| SelectTaskAction\n\t| UnselectTaskAction\n\t| UnselectAllAction;\n","import { Classes } from '@blueprintjs/core';\n\n// Blueprint\nexport const DARK_THEME = Classes.DARK;\nexport const LIGHT_THEME = '';\n\n// Local storage keys\nconst prefix = 'tasks-juggler-';\nexport const THEME_STORAGE_KEY = prefix + 'theme';\nexport const SHOW_ORPHAN_STORAGE_KEY = prefix + 'show-orphan';\nexport const SHOW_BUTTON_TEXT_STORAGE_KEY = prefix + 'show-button-text';\nexport const DATABASE_STORAGE_KEY = prefix + 'database';\n\n// Projects\nexport const NO_PROJECT: number = -1;\nexport const ALL_PROJECTS: number = -2;\n","import { NO_PROJECT } from '../constants';\nimport { DataBase, Project } from '../types/types';\n\nexport const createFakeDataBase: () => DataBase = () => {\n\tlet initialProjectId = 0;\n\tlet initialTaskId = 0;\n\tconst initialDataBase: DataBase = {\n\t\tprojects: [\n\t\t\t{ name: 'Toto', desc: 'toto project', id: initialProjectId++ },\n\t\t\t{ name: 'Titi', desc: 'titi project', id: initialProjectId++ }\n\t\t],\n\t\ttasks: [\n\t\t\t{\n\t\t\t\ttitle: 'ZombieTask',\n\t\t\t\tdesc: 'I have no project...',\n\t\t\t\tid: initialTaskId++,\n\t\t\t\tprojectId: NO_PROJECT,\n\t\t\t\tduration: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'TotoTask1',\n\t\t\t\tdesc: 'task 1 of toto project',\n\t\t\t\tid: initialTaskId++,\n\t\t\t\tprojectId: 0,\n\t\t\t\tduration: 0.5\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'TotoTask2',\n\t\t\t\tdesc: 'task 2 of toto project',\n\t\t\t\tid: initialTaskId++,\n\t\t\t\tprojectId: 0,\n\t\t\t\tduration: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'TitiTask',\n\t\t\t\tdesc: 'task 1 of titi project',\n\t\t\t\tid: initialTaskId++,\n\t\t\t\tprojectId: 1,\n\t\t\t\tduration: 1\n\t\t\t}\n\t\t]\n\t};\n\treturn initialDataBase;\n};\n\nexport const validateDB: (\n\tdb: any\n) => { valid: boolean; reason?: string } = db => {\n\tif (typeof db !== 'object' || Array.isArray(db)) {\n\t\treturn { valid: false, reason: 'Imported DB is not an object' };\n\t}\n\tlet projectsIds: number[] = [];\n\tif (db.projects) {\n\t\tif (Array.isArray(db.projects)) {\n\t\t\tif (\n\t\t\t\t!(db.projects as any[]).every(p => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tp.name !== undefined &&\n\t\t\t\t\t\ttypeof p.name === 'string' &&\n\t\t\t\t\t\tp.desc !== undefined &&\n\t\t\t\t\t\ttypeof p.desc === 'string' &&\n\t\t\t\t\t\tp.id !== undefined &&\n\t\t\t\t\t\ttypeof p.id === 'number'\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!projectsIds.includes(p.id)) {\n\t\t\t\t\t\t\tprojectsIds.push(p.id);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t})\n\t\t\t) {\n\t\t\t\treturn {\n\t\t\t\t\tvalid: false,\n\t\t\t\t\treason: 'Imported DB projects are not correctly formed'\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\treturn { valid: false, reason: \"Imported DB 'projects' is not an array\" };\n\t\t}\n\t} else {\n\t\treturn { valid: false, reason: \"Imported DB has no 'projects' child\" };\n\t}\n\tprojectsIds.push(NO_PROJECT);\n\tlet tasksIds: number[] = [];\n\tif (db.tasks) {\n\t\tif (Array.isArray(db.tasks)) {\n\t\t\tif (\n\t\t\t\t!(db.tasks as any[]).every(t => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tt.title !== undefined &&\n\t\t\t\t\t\ttypeof t.title === 'string' &&\n\t\t\t\t\t\tt.desc !== undefined &&\n\t\t\t\t\t\ttypeof t.desc === 'string' &&\n\t\t\t\t\t\tt.id !== undefined &&\n\t\t\t\t\t\ttypeof t.id === 'number' &&\n\t\t\t\t\t\tt.projectId !== undefined &&\n\t\t\t\t\t\ttypeof t.projectId === 'number' &&\n\t\t\t\t\t\tt.duration !== undefined &&\n\t\t\t\t\t\ttypeof t.duration === 'number'\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (tasksIds.includes(t.id)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttasksIds.push(t.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!projectsIds.includes(t.projectId)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t})\n\t\t\t) {\n\t\t\t\treturn {\n\t\t\t\t\tvalid: false,\n\t\t\t\t\treason: 'Imported DB tasks are not correctly formed'\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\treturn { valid: false, reason: \"Imported DB 'tasks' is not an array\" };\n\t\t}\n\t} else {\n\t\treturn { valid: false, reason: \"Imported DB has no 'tasks' child\" };\n\t}\n\treturn { valid: true };\n};\n\nexport const getNextProjectId: (db: DataBase) => number = db => {\n\treturn db.projects.map(p => p.id).reduce((p, c) => Math.max(p, c)) + 1;\n};\n\nexport const getNextTaskId: (db: DataBase, projectId: number) => number = (\n\tdb,\n\tprojectId\n) => {\n\treturn (\n\t\tdb.tasks\n\t\t\t.filter(t => t.projectId === projectId)\n\t\t\t.map(t => t.id)\n\t\t\t.reduce((p, c) => Math.max(p, c)) + 1\n\t);\n};\n\nexport const NOK_TOO_SHORT = 'ProjectNameValidity::NOK_TOO_SHORT';\nexport const NOK_NAME_TAKEN = 'ProjectNameValidity::NOK_NAME_TAKEN';\nexport const NOK_OTHER = 'ProjectNameValidity::NOK_OTHER';\nexport const OK = 'ProjectNameValidity::OK';\nexport type ProjectNameValidity =\n\t| typeof NOK_TOO_SHORT\n\t| typeof NOK_NAME_TAKEN\n\t| typeof NOK_OTHER\n\t| typeof OK;\n\nexport const validateProjectName = (db: DataBase) => (\n\tname: string\n): { valid: ProjectNameValidity; reason?: string } => {\n\tif (name.length < 3) {\n\t\treturn { valid: NOK_TOO_SHORT, reason: 'Too short' };\n\t}\n\tif (db.projects.find(p => p.name.toUpperCase() === name.toUpperCase())) {\n\t\treturn {\n\t\t\tvalid: NOK_NAME_TAKEN,\n\t\t\treason: `Project with name ${name} already exists`\n\t\t};\n\t}\n\treturn { valid: OK };\n};\n\nexport const getProject = (db: DataBase) => (\n\tid: number\n): Project | undefined => {\n\treturn db.projects.find(p => p.id === id);\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M256,405.993c-5.52,0-10,4.48-10,10c0,5.52,4.48,10,10,10c5.52,0,10-4.48,10-10 C265.999,410.472,261.52,405.993,256,405.993z\"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M277.206,263.064c-3.907-3.902-10.239-3.899-14.141,0.009c-1.878,1.88-4.387,2.916-7.064,2.916 c-2.677,0-5.186-1.036-7.064-2.916c-3.903-3.908-10.234-3.912-14.141-0.009c-3.908,3.903-3.912,10.234-0.009,14.141 c5.656,5.664,13.189,8.783,21.213,8.783c8.024,0,15.558-3.119,21.215-8.783C281.118,273.299,281.113,266.967,277.206,263.064z\"\n})));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M256,0.011c-22.055,0-39.998,17.943-39.998,39.998S233.945,80.007,256,80.007c22.055,0,39.998-17.943,39.998-39.998 S278.055,0.011,256,0.011z M256,60.008c-11.027,0-19.999-8.972-19.999-19.999c0-11.028,8.972-19.999,19.999-19.999 c11.028,0,19.999,8.972,19.999,19.999C275.999,51.037,267.027,60.008,256,60.008z\"\n})));\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M136.005,40.009c-22.055,0-39.998,17.943-39.998,39.998c0,22.055,17.943,39.998,39.998,39.998 s39.998-17.943,39.998-39.998C176.003,57.952,158.06,40.009,136.005,40.009z M136.005,100.006 c-11.028,0-19.999-8.972-19.999-19.999c0-11.027,8.972-19.999,19.999-19.999s19.999,8.972,19.999,19.999 C156.004,91.035,147.033,100.006,136.005,100.006z\"\n})));\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M40.01,137.005c-22.055,0-39.998,17.943-39.998,39.998s17.943,39.998,39.998,39.998c22.055,0,39.998-17.943,39.998-39.998 S62.064,137.005,40.01,137.005z M40.01,197.002c-11.028,0-19.999-8.972-19.999-19.999s8.972-19.999,19.999-19.999 c11.027,0,19.999,8.972,19.999,19.999S51.037,197.002,40.01,197.002z\"\n})));\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M375.994,40.009c-22.055,0-39.998,17.943-39.998,39.998c0,22.055,17.943,39.998,39.998,39.998 s39.998-17.943,39.998-39.998C415.993,57.952,398.049,40.009,375.994,40.009z M375.994,100.006 c-11.028,0-19.999-8.972-19.999-19.999c0-11.027,8.972-19.999,19.999-19.999c11.028,0,19.999,8.972,19.999,19.999 C395.993,91.035,387.022,100.006,375.994,100.006z\"\n})));\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M471.99,137.005c-22.055,0-39.998,17.943-39.998,39.998s17.943,39.998,39.998,39.998 c22.055,0,39.998-17.943,39.998-39.998S494.045,137.005,471.99,137.005z M471.99,197.002c-11.027,0-19.999-8.972-19.999-19.999 s8.972-19.999,19.999-19.999c11.028,0,19.999,8.972,19.999,19.999S483.018,197.002,471.99,197.002z\"\n})));\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M505.269,327.811c-12.26-18.398-37.078-23.37-55.471-11.091c-0.07,0.047-0.139,0.094-0.208,0.143l-48.431,34.123 l-101.276-40.509c15.91-12.842,26.114-32.486,26.114-54.477c0-38.596-31.401-69.997-69.997-69.997 c-38.596,0-69.997,31.401-69.997,69.997c0,21.99,10.202,41.633,26.111,54.475l-101.274,40.511l-48.429-34.121 c-0.072-0.051-0.145-0.101-0.218-0.149c-18.435-12.279-43.225-7.289-55.464,11.096c-12.234,18.359-7.325,43.113,11.003,55.399 l65.918,45.943c0.058,0.04,0.116,0.08,0.174,0.119c11.174,7.443,25.017,8.664,37.045,3.852l45.134-18.053v86.915 c0,5.523,4.477,10,10,10h159.993c5.523,0,10-4.477,10-10v-86.915l45.113,18.045c11.718,4.719,25.656,3.757,37.067-3.844 c0.058-0.039,0.116-0.078,0.174-0.119l65.917-45.942C512.596,370.927,517.506,346.172,505.269,327.811z M206.002,255.999 c0-27.569,22.429-49.998,49.998-49.998c27.569,0,49.998,22.429,49.998,49.998c0,27.569-22.429,49.998-49.998,49.998 C228.431,305.997,206.002,283.569,206.002,255.999z M277.319,325.996L256,357.97l-21.319-31.974H277.319z M29.088,366.75 c-0.057-0.04-0.114-0.079-0.172-0.117c-9.196-6.129-11.68-18.523-5.541-27.736c6.088-9.145,18.401-11.677,27.632-5.604 l5.906,4.161l-23.98,31.976L29.088,366.75z M417.011,412.681c-5.558,3.665-12.463,4.288-18.453,1.876l-58.847-23.539 c-3.082-1.233-6.573-0.856-9.32,1.004c-2.747,1.86-4.394,4.962-4.394,8.281v91.686h-59.997V455.99c0-5.523-4.477-10-10-10 c-5.523,0-10,4.477-10,10v35.998h-59.997v-91.686c0-3.318-1.646-6.42-4.394-8.281c-2.748-1.861-6.239-2.237-9.32-1.004 l-58.847,23.539c-6.086,2.434-12.954,1.75-18.454-1.876L49.35,380.873l23.918-31.895l30.491,21.482 c2.765,1.948,6.329,2.366,9.472,1.109l100.892-40.355l33.557,50.328c1.854,2.781,4.977,4.452,8.32,4.452 c3.343,0,6.465-1.671,8.32-4.452l33.56-50.33l100.891,40.357c3.142,1.257,6.707,0.839,9.473-1.11l26.968-19l20.535,34.225 L417.011,412.681z M483.085,366.633c-0.059,0.039-0.116,0.078-0.173,0.118l-10.719,7.472l-20.586-34.314l9.391-6.616 c9.17-6.052,21.514-3.57,27.632,5.609C494.758,348.101,492.288,360.5,483.085,366.633z\"\n})));\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref18 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref19 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref20 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref21 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref22 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref23 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref24 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgJuggler = function SvgJuggler(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 511.999 511.999\",\n    style: {\n      enableBackground: \"new 0 0 511.999 511.999\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgJuggler, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/juggler.a8913439.svg\";\nexport { ForwardRef as ReactComponent };","import { Menu } from '@blueprintjs/core';\nimport React, { FC } from 'react';\nimport { ALL_PROJECTS } from '../../utils/constants';\n\ntype ActionsMenuProps = {\n\topenAddProjDialog: (b: boolean) => void;\n\topenEditProjDialog: (b: boolean) => void;\n\tselectedProject: number;\n\topenDeleteProjAlert: (b: boolean) => void;\n\tdumpDataBase: () => void;\n\tloadDataBase: () => void;\n};\n\nexport const ActionsMenu: FC<ActionsMenuProps> = ({\n\topenAddProjDialog,\n\topenEditProjDialog,\n\tselectedProject,\n\topenDeleteProjAlert,\n\tdumpDataBase,\n\tloadDataBase\n}) => (\n\t<Menu>\n\t\t<Menu.Divider title='Projects' />\n\t\t<Menu.Item\n\t\t\ttext='Add project'\n\t\t\ticon='add'\n\t\t\tonClick={() => openAddProjDialog(true)}\n\t\t/>\n\t\t<Menu.Item\n\t\t\ttext='Edit project'\n\t\t\ticon='edit'\n\t\t\tdisabled={selectedProject === ALL_PROJECTS}\n\t\t\tonClick={() => openEditProjDialog(true)}\n\t\t/>\n\t\t<Menu.Item\n\t\t\ttext='Delete project'\n\t\t\ticon='trash'\n\t\t\tintent='danger'\n\t\t\tdisabled={selectedProject === ALL_PROJECTS}\n\t\t\tonClick={() => openDeleteProjAlert(true)}\n\t\t/>\n\t\t<Menu.Divider title='Database' />\n\t\t<Menu.Item text='Dump database' icon='floppy-disk' onClick={dumpDataBase} />\n\t\t<Menu.Item text='Load database' icon='database' onClick={loadDataBase} />\n\t</Menu>\n);\n","import { Action } from 'redux';\n\n// Settings level state object\nexport type SettingsState = {\n\ttheme: string;\n\tshowOrphan: boolean;\n\tshowButtonText: boolean;\n};\n\nexport const SET_THEME = '@@settings/SET_THEME';\nexport const SET_SHOW_ORPHAN = '@@settings/SET_SHOW_ORPHAN';\nexport const SET_SHOW_BUTTON_TEXT = '@@settings/SET_SHOW_BUTTON_TEXT';\n\nexport interface SetThemeAction extends Action {\n\ttype: typeof SET_THEME;\n\tpayload: string;\n}\n\nexport interface SetShowOrphanAction extends Action {\n\ttype: typeof SET_SHOW_ORPHAN;\n\tpayload: boolean;\n}\n\nexport interface SetShowButtonTextAction extends Action {\n\ttype: typeof SET_SHOW_BUTTON_TEXT;\n\tpayload: boolean;\n}\n\nexport type SettingsActionTypes =\n\t| SetThemeAction\n\t| SetShowOrphanAction\n\t| SetShowButtonTextAction;\n","import { Alignment, FormGroup, Switch } from '@blueprintjs/core';\nimport React, { FC } from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { AppState } from '../../store';\nimport {\n\tsetShowButtonText,\n\tsetShowOrphan,\n\tsetTheme\n} from '../../store/settings/actions';\nimport { SettingsActionTypes } from '../../store/settings/types';\nimport {\n\tDARK_THEME,\n\tLIGHT_THEME,\n\tSHOW_BUTTON_TEXT_STORAGE_KEY,\n\tSHOW_ORPHAN_STORAGE_KEY,\n\tTHEME_STORAGE_KEY\n} from '../../utils/constants';\n\ntype SettingsFormStateProps = {\n\ttheme: string;\n\tshowOrphan: boolean;\n\tshowButtonText: boolean;\n};\ntype SettingsFormDispatchProps = {\n\tsetTheme: (theme: string) => void;\n\tsetShowOrphan: (showOrphan: boolean) => void;\n\tsetShowButtonText: (showButtonText: boolean) => void;\n};\ntype SettingsFormProps = SettingsFormStateProps & SettingsFormDispatchProps;\n\nconst SettingsForm: FC<SettingsFormProps> = ({\n\ttheme,\n\tsetTheme,\n\tshowOrphan,\n\tshowButtonText,\n\tsetShowOrphan,\n\tsetShowButtonText\n}) => (\n\t<FormGroup\n\t\tstyle={{\n\t\t\tpadding: '10px',\n\t\t\tmargin: '0'\n\t\t}}\n\t>\n\t\t<Switch\n\t\t\talignIndicator={Alignment.RIGHT}\n\t\t\tchecked={theme === DARK_THEME}\n\t\t\tonChange={() => {\n\t\t\t\tconst newTheme: string =\n\t\t\t\t\ttheme === LIGHT_THEME ? DARK_THEME : LIGHT_THEME;\n\t\t\t\tsetTheme(newTheme);\n\t\t\t\tlocalStorage.setItem(THEME_STORAGE_KEY, newTheme);\n\t\t\t}}\n\t\t>\n\t\t\t{(theme === LIGHT_THEME ? 'Dark' : 'Light') + ' theme'}\n\t\t</Switch>\n\t\t<Switch\n\t\t\talignIndicator={Alignment.RIGHT}\n\t\t\tchecked={showOrphan}\n\t\t\tonChange={() => {\n\t\t\t\tconst newShowOrphan: boolean = !showOrphan;\n\t\t\t\tsetShowOrphan(newShowOrphan);\n\t\t\t\tlocalStorage.setItem(SHOW_ORPHAN_STORAGE_KEY, String(newShowOrphan));\n\t\t\t}}\n\t\t>\n\t\t\t{'Show orphan tasks'}\n\t\t</Switch>\n\t\t<Switch\n\t\t\talignIndicator={Alignment.RIGHT}\n\t\t\tchecked={showButtonText}\n\t\t\tonChange={() => {\n\t\t\t\tconst newShowButtonText: boolean = !showButtonText;\n\t\t\t\tsetShowButtonText(newShowButtonText);\n\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\tSHOW_BUTTON_TEXT_STORAGE_KEY,\n\t\t\t\t\tString(newShowButtonText)\n\t\t\t\t);\n\t\t\t}}\n\t\t>\n\t\t\t{'Show buttons text'}\n\t\t</Switch>\n\t</FormGroup>\n);\n\nconst mapStateToProps = (state: AppState): SettingsFormStateProps => ({\n\ttheme: state.settings.theme,\n\tshowOrphan: state.settings.showOrphan,\n\tshowButtonText: state.settings.showButtonText\n});\n\nconst mapDispatchToProps = (\n\tdispatch: Dispatch<SettingsActionTypes>\n): SettingsFormDispatchProps => ({\n\tsetTheme: (theme: string) => dispatch(setTheme(theme)),\n\tsetShowOrphan: (showOrphan: boolean) => dispatch(setShowOrphan(showOrphan)),\n\tsetShowButtonText: (showButtonText: boolean) =>\n\t\tdispatch(setShowButtonText(showButtonText))\n});\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SettingsForm);\n","import { ActionCreator } from 'redux';\nimport {\n\tSetShowButtonTextAction,\n\tSetShowOrphanAction,\n\tSetThemeAction,\n\tSET_SHOW_BUTTON_TEXT,\n\tSET_SHOW_ORPHAN,\n\tSET_THEME\n} from './types';\n\n// Type these action creators with `: ActionCreator<ActionTypeYouWantToPass>`.\n// Remember, you can also pass parameters into an action creator. Make sure to\n// type them properly.\n\nexport const setTheme: ActionCreator<SetThemeAction> = (theme: string) => ({\n\ttype: SET_THEME,\n\tpayload: theme\n});\n\nexport const setShowOrphan: ActionCreator<SetShowOrphanAction> = (\n\tshowOrphan: boolean\n) => ({\n\ttype: SET_SHOW_ORPHAN,\n\tpayload: showOrphan\n});\n\nexport const setShowButtonText: ActionCreator<SetShowButtonTextAction> = (\n\tshowButtonText: boolean\n) => ({\n\ttype: SET_SHOW_BUTTON_TEXT,\n\tpayload: showButtonText\n});\n","import React, { FC } from 'react';\nimport { IButtonProps, Tooltip, Button, Position } from '@blueprintjs/core';\n\ntype TooltippedButtonProps = {\n    text: string;\n    showButtonText: boolean;\n    disabled?: boolean;\n    position?: Position;\n} & IButtonProps;\n\nconst TooltippedButton: FC<TooltippedButtonProps> = ({\n    text,\n    showButtonText,\n    position,\n    disabled = false,\n    ...otherProps\n}) => (\n    <Tooltip content={text} disabled={disabled || showButtonText} position={position}>\n        <Button text={showButtonText ? text : ''} disabled={disabled} {...otherProps} />\n    </Tooltip>\n);\n\nexport default TooltippedButton;","import {\n\tAlignment,\n\tNavbar as BPNavbar,\n\tPopover,\n\tPosition,\n\tTabs,\n\tTooltip\n} from '@blueprintjs/core';\nimport React, { FC, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { ReactComponent as Logo } from '../../assets/images/juggler.svg';\nimport { AppState } from '../../store';\nimport { ALL_PROJECTS, DARK_THEME } from '../../utils/constants';\nimport { DataBase, Project } from '../../utils/types/types';\nimport { ActionsMenu } from './actions.menu';\nimport SettingsForm from './settings.form';\nimport TooltippedButton from '../tooltippedbutton/tooltippedbutton';\n\ntype NavbarStateProps = {\n\ttheme: string;\n\tshowButtonText: boolean;\n};\n\ntype NavbarProps = {\n\tdumpDataBase: () => void;\n\tloadDataBase: () => void;\n\tsetSelectedProject: (p: number) => void;\n\tdataBase: DataBase;\n\tselectedProject: number;\n\topenDeleteProjAlert: (b: boolean) => void;\n\topenAddProjDialog: (b: boolean) => void;\n\topenEditProjDialog: (b: boolean) => void;\n} & NavbarStateProps;\n\nconst Navbar: FC<NavbarProps> = ({\n\ttheme,\n\tdumpDataBase,\n\tloadDataBase,\n\tsetSelectedProject,\n\tdataBase,\n\tselectedProject,\n\topenDeleteProjAlert,\n\topenAddProjDialog,\n\topenEditProjDialog,\n\tshowButtonText\n}) => {\n\tconst projects: Project[] = [\n\t\t{\n\t\t\tname: 'All',\n\t\t\tid: ALL_PROJECTS,\n\t\t\tdesc: 'All the projects'\n\t\t},\n\t\t...dataBase.projects\n\t];\n\tconst [logoClass, setLogoClass] = useState('');\n\tconst logoAnimation = [\n\t\t'bounce',\n\t\t'flash',\n\t\t'pulse',\n\t\t'rubberBand',\n\t\t'headShake',\n\t\t'swing',\n\t\t'tada',\n\t\t'wobble',\n\t\t'jello',\n\t\t'heartBeat'\n\t];\n\tconst [logoAnimationIdx, setLogoAnimationIdx] = useState(0);\n\n\treturn (\n\t\t<BPNavbar>\n\t\t\t<BPNavbar.Group align={Alignment.LEFT}>\n\t\t\t\t<BPNavbar.Heading\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\talignItems: 'center'\n\t\t\t\t\t}}\n\t\t\t\t\tonMouseEnter={() =>\n\t\t\t\t\t\tsetLogoClass('animated ' + logoAnimation[logoAnimationIdx])\n\t\t\t\t\t}\n\t\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\t\tsetLogoClass('');\n\t\t\t\t\t\tsetLogoAnimationIdx((logoAnimationIdx + 1) % logoAnimation.length);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Logo\n\t\t\t\t\t\tclassName={logoClass}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tanimationIterationCount: 'infinite'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\theight='40px'\n\t\t\t\t\t\tfill={theme === DARK_THEME ? 'white' : 'black'}\n\t\t\t\t\t/>\n\t\t\t\t\t<div style={{ marginLeft: '10px' }}>\n\t\t\t\t\t\t{'Tasks Juggler'.toUpperCase()}\n\t\t\t\t\t</div>\n\t\t\t\t</BPNavbar.Heading>\n\t\t\t</BPNavbar.Group>\n\t\t\t<BPNavbar.Group align={Alignment.RIGHT}>\n\t\t\t\t<Tabs\n\t\t\t\t\tlarge\n\t\t\t\t\tonChange={id => {\n\t\t\t\t\t\tsetSelectedProject(id as number);\n\t\t\t\t\t}}\n\t\t\t\t\tselectedTabId={selectedProject}\n\t\t\t\t>\n\t\t\t\t\t{projects.map((p: Project) => (\n\t\t\t\t\t\t<Tabs.Tab\n\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t<Tooltip content={p.desc} position={Position.BOTTOM}>\n\t\t\t\t\t\t\t\t\t{p.name.toUpperCase()}\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tid={p.id}\n\t\t\t\t\t\t\tkey={p.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</Tabs>\n\t\t\t\t<BPNavbar.Divider />\n\t\t\t\t<Popover\n\t\t\t\t\tcontent={\n\t\t\t\t\t\t<ActionsMenu\n\t\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\t\topenAddProjDialog,\n\t\t\t\t\t\t\t\topenEditProjDialog,\n\t\t\t\t\t\t\t\tselectedProject,\n\t\t\t\t\t\t\t\topenDeleteProjAlert,\n\t\t\t\t\t\t\t\tdumpDataBase,\n\t\t\t\t\t\t\t\tloadDataBase\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\tposition={Position.BOTTOM}\n\t\t\t\t>\n\t\t\t\t\t<TooltippedButton minimal icon='build' text='Actions' showButtonText={showButtonText} position={Position.LEFT} />\n\t\t\t\t</Popover>\n\t\t\t\t<Popover content={<SettingsForm />} position={Position.BOTTOM}>\n\t\t\t\t\t<TooltippedButton minimal icon='cog' text='Settings' showButtonText={showButtonText} position={Position.LEFT} />\n\t\t\t\t</Popover>\n\t\t\t</BPNavbar.Group>\n\t\t</BPNavbar>\n\t);\n};\n\nconst mapStateToProps = (state: AppState): NavbarStateProps => ({\n\ttheme: state.settings.theme,\n\tshowButtonText: state.settings.showButtonText\n});\n\nexport default connect(mapStateToProps)(Navbar);\n","import {\n\tButton,\n\tClasses,\n\tDialog,\n\tFormGroup,\n\tIDialogProps,\n\tInputGroup,\n\tIntent,\n\tNumericInput,\n\tTextArea\n} from '@blueprintjs/core';\nimport React, { FC, useEffect, useState } from 'react';\nimport {\n\tNOK_NAME_TAKEN,\n\tNOK_OTHER,\n\tOK,\n\tProjectNameValidity\n} from '../../utils/data/database';\nimport { Project } from '../../utils/types/types';\n\ntype GenericAddEditDialogProps = {\n\ttype: 'add' | 'edit';\n\twhat: string; // type of object to be added or editted\n\tdisabled: boolean;\n\taction: () => void;\n} & IDialogProps;\n\nconst AddEditDialog: FC<GenericAddEditDialogProps> = ({\n\ttype,\n\twhat,\n\tdisabled,\n\taction,\n\t...dialogProps\n}) => (\n\t<Dialog\n\t\ticon={type}\n\t\ttitle={`${type.charAt(0).toUpperCase() + type.slice(1)} ${what}`}\n\t\tcanOutsideClickClose={false}\n\t\t{...dialogProps}\n\t>\n\t\t<div className={Classes.DIALOG_BODY}>{dialogProps.children}</div>\n\t\t<div className={Classes.DIALOG_FOOTER}>\n\t\t\t<div className={Classes.DIALOG_FOOTER_ACTIONS}>\n\t\t\t\t<Button onClick={dialogProps.onClose}>Close</Button>\n\t\t\t\t<Button\n\t\t\t\t\ttext={`${type.charAt(0).toUpperCase() + type.slice(1)} ${what}`}\n\t\t\t\t\tintent={Intent.PRIMARY}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\taction();\n\t\t\t\t\t\tdialogProps.onClose!();\n\t\t\t\t\t}}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</Dialog>\n);\n\ntype AddEditProjectDialogprops = {\n\ttype: 'add' | 'edit';\n\tdisabled: boolean;\n\taction: () => void;\n\terrorMessage: string;\n\tname: string;\n\tdesc: string;\n\tonNameChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n\tonDescChange: (e: React.ChangeEvent<HTMLTextAreaElement>) => void;\n} & IDialogProps;\n\nconst AddEditProjectDialog: FC<AddEditProjectDialogprops> = ({\n\ttype,\n\tdisabled,\n\taction,\n\terrorMessage,\n\tname,\n\tdesc,\n\tonNameChange,\n\tonDescChange,\n\t...dialogProps\n}) => (\n\t<AddEditDialog\n\t\ttype={type}\n\t\twhat='project'\n\t\tdisabled={disabled}\n\t\taction={action}\n\t\t{...dialogProps}\n\t>\n\t\t<FormGroup\n\t\t\thelperText={errorMessage}\n\t\t\tlabel='Project name'\n\t\t\tlabelFor='name-input'\n\t\t\tlabelInfo='(required)'\n\t\t\tinline\n\t\t>\n\t\t\t<InputGroup\n\t\t\t\tid='name-input'\n\t\t\t\tplaceholder='Enter project name here.'\n\t\t\t\tvalue={name}\n\t\t\t\tonChange={onNameChange}\n\t\t\t\tautoFocus\n\t\t\t/>\n\t\t</FormGroup>\n\t\t<FormGroup\n\t\t\tlabel='Description'\n\t\t\tlabelFor='desc-input'\n\t\t\tlabelInfo='(recommended)'\n\t\t>\n\t\t\t<TextArea\n\t\t\t\tid='desc-input'\n\t\t\t\tplaceholder='Enter a short description of the project here.'\n\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\tvalue={desc}\n\t\t\t\tonChange={onDescChange}\n\t\t\t/>\n\t\t</FormGroup>\n\t</AddEditDialog>\n);\n\ntype AddProjectDialogProps = {\n\tadd: (name: string, desc: string) => void;\n\tvalidateName: (\n\t\tname: string\n\t) => { valid: ProjectNameValidity; reason?: string };\n} & IDialogProps;\n\nexport const AddProjectDialog: FC<AddProjectDialogProps> = ({\n\tadd,\n\tvalidateName,\n\t...dialogProps\n}) => {\n\tconst [name, setName] = useState('');\n\tconst [desc, setDesc] = useState('');\n\tconst [disabled, setDisabled] = useState(true);\n\tconst [errorMessage, setErrorMessage] = useState('');\n\treturn (\n\t\t<AddEditProjectDialog\n\t\t\ttype='add'\n\t\t\tdisabled={disabled}\n\t\t\taction={() => add(name, desc)}\n\t\t\terrorMessage={errorMessage}\n\t\t\tname={name}\n\t\t\tdesc={desc}\n\t\t\tonNameChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\t\tconst value = e.target.value;\n\t\t\t\tsetName(value);\n\t\t\t\tconst { valid, reason } = validateName(value);\n\t\t\t\tsetDisabled(valid !== OK);\n\t\t\t\tsetErrorMessage(reason || '');\n\t\t\t}}\n\t\t\tonDescChange={(e: React.ChangeEvent<HTMLTextAreaElement>) =>\n\t\t\t\tsetDesc(e.target.value)\n\t\t\t}\n\t\t\t{...dialogProps}\n\t\t/>\n\t);\n};\n\ntype EditProjectDialogProps = {\n\tproject: Project;\n\tvalidateName: (\n\t\tname: string\n\t) => { valid: ProjectNameValidity; reason?: string };\n\tedit: (id: number, name: string, desc: string) => void;\n} & IDialogProps;\n\nexport const EditProjectDialog: FC<EditProjectDialogProps> = ({\n\tproject,\n\tvalidateName,\n\tedit,\n\t...dialogProps\n}) => {\n\tconst [name, setName] = useState('ERROR');\n\tconst [desc, setDesc] = useState('ERROR');\n\tuseEffect(() => {\n\t\tif (project) {\n\t\t\tsetName(project.name);\n\t\t\tsetDesc(project.desc);\n\t\t}\n\t}, [project]);\n\tconst [disabled, setDisabled] = useState(true);\n\tconst [errorMessage, setErrorMessage] = useState('');\n\tconst update = (newName: string, newDesc: string) => {\n\t\tlet { valid, reason } = validateName(newName);\n\t\tif (valid === NOK_NAME_TAKEN && newName === project.name) {\n\t\t\t// Accept same name if same project but desc has changed\n\t\t\tif (newDesc !== project.desc) {\n\t\t\t\tvalid = OK;\n\t\t\t\treason = '';\n\t\t\t} else {\n\t\t\t\tvalid = NOK_OTHER;\n\t\t\t\treason = 'Nothing changed...';\n\t\t\t}\n\t\t}\n\t\tsetDisabled(valid !== OK);\n\t\tsetErrorMessage(reason || '');\n\t};\n\treturn (\n\t\t<AddEditProjectDialog\n\t\t\ttype='edit'\n\t\t\tdisabled={disabled}\n\t\t\taction={() => edit(project.id, name, desc)}\n\t\t\terrorMessage={errorMessage}\n\t\t\tname={name}\n\t\t\tdesc={desc}\n\t\t\tonNameChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\t\tconst value = e.target.value;\n\t\t\t\tsetName(value);\n\t\t\t\tupdate(value, desc);\n\t\t\t}}\n\t\t\tonDescChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => {\n\t\t\t\tsetDesc(e.target.value);\n\t\t\t\tupdate(name, e.target.value);\n\t\t\t}}\n\t\t\t{...dialogProps}\n\t\t/>\n\t);\n};\n\ntype AddEditTaskDialogprops = {\n\ttype: 'add' | 'edit';\n\tdisabled: boolean;\n\taction: () => void;\n\terrorMessage: string;\n\ttaskTitle: string;\n\tdesc: string;\n\tduration: number;\n\tonTitleChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n\tonDescChange: (e: React.ChangeEvent<HTMLTextAreaElement>) => void;\n\tonDurationChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n} & IDialogProps;\n\nconst AddEditTaskDialog: FC<AddEditTaskDialogprops> = ({\n\ttype,\n\tdisabled,\n\taction,\n\terrorMessage,\n\ttaskTitle,\n\tdesc,\n\tduration,\n\tonTitleChange,\n\tonDescChange,\n\tonDurationChange,\n\t...dialogProps\n}) => (\n\t<AddEditDialog\n\t\ttype={type}\n\t\twhat='task'\n\t\tdisabled={disabled}\n\t\taction={action}\n\t\t{...dialogProps}\n\t>\n\t\t<FormGroup\n\t\t\thelperText={errorMessage}\n\t\t\tlabel='Task title'\n\t\t\tlabelFor='title-input'\n\t\t\tlabelInfo='(required)'\n\t\t\tinline\n\t\t>\n\t\t\t<InputGroup\n\t\t\t\tid='title-input'\n\t\t\t\tplaceholder='Enter task title here.'\n\t\t\t\tvalue={taskTitle}\n\t\t\t\tonChange={onTitleChange}\n\t\t\t/>\n\t\t</FormGroup>\n\t\t<FormGroup\n\t\t\tlabel='Description'\n\t\t\tlabelFor='desc-input'\n\t\t\tlabelInfo='(recommended)'\n\t\t>\n\t\t\t<TextArea\n\t\t\t\tid='desc-input'\n\t\t\t\tplaceholder='Enter a short description of the task here.'\n\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\tvalue={desc}\n\t\t\t\tonChange={onDescChange}\n\t\t\t/>\n\t\t</FormGroup>\n\t\t<FormGroup label='Duration' labelFor='dur-input' labelInfo='(optionnal)'>\n\t\t\t<NumericInput\n\t\t\t\tid='dur-input'\n\t\t\t\tplaceholder='Enter number (float) of days here.'\n\t\t\t\t//style={{ width: '100%' }}\n\t\t\t\tvalue={duration}\n\t\t\t\tonChange={onDurationChange}\n\t\t\t/>\n\t\t</FormGroup>\n\t</AddEditDialog>\n);\n\ntype AddTaskDialogProps = {\n\tadd: (title: string, desc: string, duration: number | undefined) => void;\n\t// validateName: (\n\t// \tname: string\n\t// ) => { valid: ProjectNameValidity; reason?: string };\n} & IDialogProps;\n\nexport const AddTaskDialog: FC<AddTaskDialogProps> = ({\n\tadd,\n\t// validateName,\n\t...dialogProps\n}) => {\n\tconst [title, setTitle] = useState('');\n\tconst [desc, setDesc] = useState('');\n\tconst [duration, setDuration] = useState(0); // TODO switch to enable + slider ?\n\tconst [disabled, setDisabled] = useState(true);\n\tconst [errorMessage, setErrorMessage] = useState('');\n\treturn (\n\t\t<AddEditTaskDialog\n\t\t\ttype='add'\n\t\t\tdisabled={disabled}\n\t\t\taction={() => add(title, desc, duration)}\n\t\t\terrorMessage={errorMessage}\n\t\t\ttaskTitle={title}\n\t\t\tdesc={desc}\n\t\t\tduration={duration}\n\t\t\tonTitleChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\t\tconst value = e.target.value;\n\t\t\t\tsetTitle(value);\n\t\t\t\t// const { valid, reason } = validateName(value);\n\t\t\t\t// setDisabled(valid !== OK);\n\t\t\t\t// setErrorMessage(reason || '');\n\t\t\t}}\n\t\t\tonDescChange={(e: React.ChangeEvent<HTMLTextAreaElement>) =>\n\t\t\t\tsetDesc(e.target.value)\n\t\t\t}\n\t\t\tonDurationChange={(e: React.ChangeEvent<HTMLInputElement>) => {}}\n\t\t\t{...dialogProps}\n\t\t/>\n\t);\n};\n","import {\n\tButton,\n\tClasses,\n\tDialog,\n\tFileInput,\n\tIDialogProps,\n\tIntent,\n\tTextArea\n} from '@blueprintjs/core';\nimport React, { FC, useState } from 'react';\n\nconst fileSaver = require('file-saver');\nconst fileReader = new FileReader();\n\ntype DumpDataBaseDialogProps = {\n\tdump: string;\n\tonClipboard: () => void;\n} & IDialogProps;\n\nexport const DumpDataBaseDialog: FC<DumpDataBaseDialogProps> = ({\n\tisOpen,\n\tonClose,\n\tdump,\n\tonClipboard\n}) => (\n\t<Dialog\n\t\ticon='database'\n\t\ttitle='DataBase dump'\n\t\tisOpen={isOpen}\n\t\tonClose={onClose}\n\t>\n\t\t<div className={Classes.DIALOG_BODY}>\n\t\t\t<p>Copy to clipboard or save it to your files :</p>\n\t\t\t<TextArea\n\t\t\t\tid='dump'\n\t\t\t\treadOnly\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tminHeight: '300px'\n\t\t\t\t}}\n\t\t\t\tdefaultValue={dump}\n\t\t\t/>\n\t\t</div>\n\t\t<div className={Classes.DIALOG_FOOTER}>\n\t\t\t<div className={Classes.DIALOG_FOOTER_ACTIONS}>\n\t\t\t\t<Button\n\t\t\t\t\ttext='Copy to clipboard'\n\t\t\t\t\ticon='clipboard'\n\t\t\t\t\tintent={Intent.PRIMARY}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t// Copy to clipboard\n\t\t\t\t\t\t(document.getElementById('dump') as HTMLTextAreaElement).select();\n\t\t\t\t\t\tdocument.execCommand('copy');\n\t\t\t\t\t\t// Display toaster\n\t\t\t\t\t\tonClipboard();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\ttext='Download as JSON'\n\t\t\t\t\ticon='download'\n\t\t\t\t\tintent={Intent.PRIMARY}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tconst blob = new Blob([dump], { type: 'text/plain;charset=utf-8' });\n\t\t\t\t\t\tfileSaver.saveAs(blob, 'tasks-juggler-db.json');\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</Dialog>\n);\n\ntype LoadDataBaseDialogProps = {\n\tonLoad: (input: string) => boolean;\n} & IDialogProps;\n\nexport const LoadDataBaseDialog: FC<LoadDataBaseDialogProps> = ({\n\tisOpen,\n\tonClose,\n\tonLoad\n}) => {\n\tconst [input, setInput] = useState('');\n\tconst [file, setFile] = useState('');\n\n\tconst loadAndClose = (input: string) => {\n\t\tif (onLoad(input)) {\n\t\t\tonClose!();\n\t\t}\n\t};\n\treturn (\n\t\t<Dialog\n\t\t\ticon='database'\n\t\t\ttitle='DataBase dump'\n\t\t\tisOpen={isOpen}\n\t\t\tonClose={onClose}\n\t\t>\n\t\t\t<div className={Classes.DIALOG_BODY}>\n\t\t\t\t<p>Copy your database in the following area and click on 'Load' :</p>\n\t\t\t\t<TextArea\n\t\t\t\t\tautoFocus\n\t\t\t\t\tid='dump'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tminHeight: '100px',\n\t\t\t\t\t\tmarginBottom: '10px'\n\t\t\t\t\t}}\n\t\t\t\t\tvalue={input}\n\t\t\t\t\tonChange={event => setInput(event.target.value)}\n\t\t\t\t/>\n\t\t\t\t<div className={Classes.DIALOG_FOOTER_ACTIONS}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttext='Load'\n\t\t\t\t\t\tdisabled={input.length === 0}\n\t\t\t\t\t\ticon='upload'\n\t\t\t\t\t\tintent={Intent.PRIMARY}\n\t\t\t\t\t\tonClick={() => loadAndClose(input)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={Classes.DIALOG_FOOTER}>\n\t\t\t\t<p>OR load from your files :</p>\n\t\t\t\t<div className={Classes.DIALOG_FOOTER_ACTIONS}>\n\t\t\t\t\t<FileInput\n\t\t\t\t\t\ttext={file || 'Choose JSON file'}\n\t\t\t\t\t\tbuttonText={'Browse'}\n\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\tid: 'file-input',\n\t\t\t\t\t\t\taccept: '.json',\n\t\t\t\t\t\t\tmultiple: false,\n\t\t\t\t\t\t\tonChange: e => setFile(e.currentTarget.value)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttext='Load from a file'\n\t\t\t\t\t\ticon='folder-open'\n\t\t\t\t\t\tintent={Intent.PRIMARY}\n\t\t\t\t\t\tdisabled={file === ''}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tconst hie = document.getElementById(\n\t\t\t\t\t\t\t\t'file-input'\n\t\t\t\t\t\t\t) as HTMLInputElement;\n\t\t\t\t\t\t\tfileReader.onload = () => {\n\t\t\t\t\t\t\t\tloadAndClose(fileReader.result as string);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tfileReader.readAsText(hie.files![0]);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Dialog>\n\t);\n};\n","import { Alert, IAlertProps, Intent } from '@blueprintjs/core';\nimport React, { FC } from 'react';\n\ntype DeleteAlertProps = {\n\tdeletionTargetName: string;\n} & IAlertProps;\n\nconst DeleteAlert: FC<DeleteAlertProps> = ({\n\tdeletionTargetName,\n\t...alertProps\n}) => (\n\t<Alert\n\t\tcancelButtonText='Cancel'\n\t\ticon='trash'\n\t\tintent={Intent.DANGER}\n\t\tcanEscapeKeyCancel={true}\n\t\tcanOutsideClickCancel={true}\n\t\t{...alertProps}\n\t>\n\t\t<p>{`Are you sure you want to delete ${deletionTargetName} ?`}</p>\n\t</Alert>\n);\n\nexport default DeleteAlert;\n","import React, { CSSProperties, FC } from 'react';\nimport { Transition } from 'react-transition-group';\nimport {\n\tENTERED,\n\tENTERING,\n\tEXITED,\n\tEXITING,\n\tTransitionProps\n} from 'react-transition-group/Transition';\n\ntype AnimationProps = {\n\tcustomClass?: string;\n\tcustomStyle?: CSSProperties;\n\tenteringAnimation?: string;\n\tenteredAnimation?: string;\n\texitingAnimation?: string;\n\texitedAnimation?: string;\n} & TransitionProps;\n\nconst Animation: FC<AnimationProps> = ({\n\tcustomClass,\n\tcustomStyle,\n\tenteringAnimation,\n\tenteredAnimation,\n\texitingAnimation,\n\texitedAnimation,\n\t...transitionProps\n}) => {\n\tconst classFrom: { [key: string]: string | undefined } = {\n\t\t[ENTERING as string]: enteringAnimation,\n\t\t[ENTERED as string]: enteredAnimation,\n\t\t[EXITING as string]: exitingAnimation,\n\t\t[EXITED as string]: exitedAnimation\n\t};\n\treturn (\n\t\t<Transition {...transitionProps}>\n\t\t\t{state => (\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${customClass || ''} animated ${classFrom[state] || ''}`}\n\t\t\t\t\tstyle={customStyle}\n\t\t\t\t>\n\t\t\t\t\t{transitionProps.children}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Transition>\n\t);\n};\n\nexport default Animation;\n","import { Card, Elevation } from '@blueprintjs/core';\nimport React, { FC } from 'react';\n\ntype TaskCardProps = {\n\ttitle: string;\n\tdesc: string;\n\tduration?: number;\n\tonClick: () => void;\n\tselected: boolean;\n};\n\nconst TaskCard: FC<TaskCardProps> = ({ title, desc, duration, onClick, selected }) => {\n\treturn (\n\t\t<Card\n\t\t\tinteractive={true}\n\t\t\televation={Elevation.TWO}\n\t\t\tclassName='taskcard animated fadeIn fast' // TODO fadeOut when deleting\n\t\t\tonClick={onClick}\n\t\t\tstyle={{\n\t\t\t\tborder: `2px solid ${selected ? '#39acac' : 'rgba(0,0,0,0)'}`\n\t\t\t}}\n\t\t>\n\t\t\t<h3 className='taskcard'>{title}</h3>\n\t\t\t<p className='taskcard'>{desc}</p>\n\t\t\t{duration && <p className='taskcard'>{`${duration} day(s)`}</p>}\n\t\t</Card>\n\t);\n};\n\nexport default TaskCard;\n","import { ButtonGroup, H3, Position } from '@blueprintjs/core';\nimport React, { FC, Dispatch } from 'react';\nimport { connect } from 'react-redux';\nimport { AppState } from '../../store';\nimport { ALL_PROJECTS, NO_PROJECT } from '../../utils/constants';\nimport { Task } from '../../utils/types/types';\nimport Animation from '../animation/animation';\nimport TaskCard from './task.card';\nimport { TasksActionTypes } from '../../store/tasks/types';\nimport { selectTask, unselectTask } from '../../store/tasks/actions';\nimport TooltippedButton from '../tooltippedbutton/tooltippedbutton';\n\ntype TaskGroupStateProps = {\n\tshowButtonText: boolean;\n\tselectedIds: number[];\n};\n\ntype TaskGroupDispatchProps = {\n\tselectTask: (id: number) => void;\n\tunselectTask: (id: number) => void;\n};\n\ntype TaskGroupProps = {\n\ttitle: string;\n\ttasks: Task[];\n\tselectedProject: number;\n\tshow?: boolean;\n\topenAddTaskDialog: (open: boolean) => void;\n\topenDeleteTaskAlert: (open: boolean) => void;\n} & TaskGroupStateProps & TaskGroupDispatchProps;\n\nconst TaskGroup: FC<TaskGroupProps> = ({\n\ttitle,\n\ttasks,\n\tselectedProject,\n\tshow = true,\n\topenAddTaskDialog,\n\topenDeleteTaskAlert,\n\tshowButtonText,\n\tselectedIds,\n\tselectTask,\n\tunselectTask\n}) => {\n\tconst filteredTasks = tasks.filter(\n\t\tt =>\n\t\t\tt.projectId === selectedProject ||\n\t\t\t(selectedProject === ALL_PROJECTS && t.projectId !== NO_PROJECT)\n\t);\n\treturn (\n\t\t<Animation\n\t\t\tin={show}\n\t\t\ttimeout={800}\n\t\t\tunmountOnExit\n\t\t\tcustomStyle={{ padding: '50px 50px 0 50px' }}\n\t\t\tenteringAnimation='fadeInDown fast'\n\t\t\texitingAnimation='fadeOutUp fast'\n\t\t>\n\t\t\t<div style={{ display: 'inline' }}>\n\t\t\t\t<H3 style={{ display: 'inline-block', marginRight: '10px' }}>\n\t\t\t\t\t{title}\n\t\t\t\t</H3>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t{/* TODO add and delete task actions */}\n\t\t\t\t\t<TooltippedButton\n\t\t\t\t\t\ttext='Add task'\n\t\t\t\t\t\tposition={Position.TOP}\n\t\t\t\t\t\tshowButtonText={showButtonText}\n\t\t\t\t\t\ticon='add'\n\t\t\t\t\t\tonClick={() => openAddTaskDialog(true)}\n\t\t\t\t\t/>\n\t\t\t\t\t<TooltippedButton\n\t\t\t\t\t\ttext={'Delete task' + (filteredTasks.filter(({id}) => selectedIds.includes(id)).length > 1 ? 's' : '')}\n\t\t\t\t\t\tposition={Position.TOP}\n\t\t\t\t\t\tshowButtonText={showButtonText}\n\t\t\t\t\t\ticon='trash'\n\t\t\t\t\t\t// TODO /!\\ when deleting selected tasks, only delete and unselect those related to this group /!\\\n\t\t\t\t\t\tonClick={() => openDeleteTaskAlert(true)}\n\t\t\t\t\t\tdisabled={filteredTasks.every(({id}) => !selectedIds.includes(id))}\n\t\t\t\t\t/>\n\t\t\t\t\t<Animation\n\t\t\t\t\t\tin={filteredTasks.some(({id}) => selectedIds.includes(id))}\n\t\t\t\t\t\ttimeout={800}\n\t\t\t\t\t\tunmountOnExit\n\t\t\t\t\t\tcustomStyle={{ display: 'inline' }}\n\t\t\t\t\t\tenteringAnimation='fadeInLeft fast'\n\t\t\t\t\t\texitingAnimation='fadeOutLeft fast'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div style={{display: 'inline-block'}}>\n\t\t\t\t\t\t\t<TooltippedButton\n\t\t\t\t\t\t\t\ttext='Select all'\n\t\t\t\t\t\t\t\tposition={Position.TOP}\n\t\t\t\t\t\t\t\tshowButtonText={showButtonText}\n\t\t\t\t\t\t\t\ticon='multi-select'\n\t\t\t\t\t\t\t\tonClick={() => filteredTasks.forEach(({id}) => selectTask(id))}\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tfilteredTasks.every(({id}) => !selectedIds.includes(id))\n\t\t\t\t\t\t\t\t\t|| filteredTasks.every(({id}) => selectedIds.includes(id))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display: 'inline-block'}}>\n\t\t\t\t\t\t\t<TooltippedButton\n\t\t\t\t\t\t\t\ttext='Clear selection'\n\t\t\t\t\t\t\t\tposition={Position.TOP}\n\t\t\t\t\t\t\t\tshowButtonText={showButtonText}\n\t\t\t\t\t\t\t\ticon='eraser'\n\t\t\t\t\t\t\t\tonClick={() => filteredTasks.forEach(({id}) => unselectTask(id))}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Animation>\n\t\t\t\t</ButtonGroup>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tmarginTop: '10px',\n\t\t\t\t\tdisplay: 'grid',\n\t\t\t\t\tgridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))',\n\t\t\t\t\tgridGap: '10px'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{filteredTasks\n\t\t\t\t\t.map(task => {\n\t\t\t\t\t\tlet { title, desc, duration, id } = task;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<TaskCard\n\t\t\t\t\t\t\t\t{...{ title, desc, duration }}\n\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\tonClick={() => (selectedIds.includes(id) ? unselectTask(id) : selectTask(id))}\n\t\t\t\t\t\t\t\tselected={selectedIds.includes(id)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t</div>\n\t\t</Animation>\n\t);\n};\n\nconst mapStateToProps = (state: AppState): TaskGroupStateProps => ({\n\tshowButtonText: state.settings.showButtonText,\n\tselectedIds: state.tasks.selected\n});\n\nconst mapDispatchToProps = (\n\tdispatch: Dispatch<TasksActionTypes>\n): TaskGroupDispatchProps => ({\n\tselectTask: (id: number) => dispatch(selectTask(id)),\n\tunselectTask: (id: number) => dispatch(unselectTask(id))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskGroup);\n","import { ActionCreator } from 'redux';\nimport {\n\tSelectTaskAction,\n\tSELECT_TASK,\n\tUnselectAllAction,\n\tUnselectTaskAction,\n\tUNSELECT_ALL,\n\tUNSELECT_TASK\n} from './types';\n\n// Type these action creators with `: ActionCreator<ActionTypeYouWantToPass>`.\n// Remember, you can also pass parameters into an action creator. Make sure to\n// type them properly.\n\nexport const selectTask: ActionCreator<SelectTaskAction> = (id: number) => ({\n\ttype: SELECT_TASK,\n\tpayload: id\n});\n\nexport const unselectTask: ActionCreator<UnselectTaskAction> = (\n\tid: number\n) => ({\n\ttype: UNSELECT_TASK,\n\tpayload: id\n});\n\nexport const unselectAll: ActionCreator<UnselectAllAction> = () => ({\n\ttype: UNSELECT_ALL\n});\n","import { H3, IIntentProps, Intent, IToaster } from '@blueprintjs/core';\nimport { ESCAPE } from '@blueprintjs/core/lib/esm/common/keys';\nimport React, { FC, useEffect, useState, Dispatch } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport { AppState } from '../../store';\nimport { unselectAll } from '../../store/tasks/actions';\nimport {\n\tALL_PROJECTS,\n\tDATABASE_STORAGE_KEY,\n\tNO_PROJECT\n} from '../../utils/constants';\nimport {\n\tcreateFakeDataBase,\n\tgetNextProjectId,\n\tgetProject,\n\tvalidateDB,\n\tvalidateProjectName\n} from '../../utils/data/database';\nimport { DataBase, Project, Task } from '../../utils/types/types';\nimport Navbar from '../nav/navbar';\nimport {\n\tAddProjectDialog,\n\tAddTaskDialog,\n\tEditProjectDialog\n} from '../overlays/add-edit.dialog';\nimport {\n\tDumpDataBaseDialog,\n\tLoadDataBaseDialog\n} from '../overlays/database.dialogs';\nimport DeleteAlert from '../overlays/delete.alert';\nimport TaskGroup from '../tasks/task.group';\nimport './app.css';\nimport { TasksActionTypes } from '../../store/tasks/types';\n\ntype AppStateProps = {\n\ttheme: string;\n\tshowOrphan: boolean;\n};\n\ntype AppDispatchProps = {\n\tunselectAll: () => void;\n};\n\ntype AppProps = {\n\ttoaster: IToaster;\n} & AppStateProps & AppDispatchProps;\n\nconst App: FC<AppProps> = ({ toaster, theme, showOrphan, unselectAll }) => {\n\t// Overlays states\n\tconst [deleteProjAlertOpen, openDeleteProjAlert] = useState(false);\n\tconst [addProjDialogOpen, openAddProjDialog] = useState(false);\n\tconst [editProjDialogOpen, openEditProjDialog] = useState(false);\n\t// TODO edit task dialog\n\tconst [deleteTaskAlertOpen, openDeleteTaskAlert] = useState(false);\n\tconst [addTaskDialogOpen, openAddTaskDialog] = useState(false);\n\tconst [dumpDBDialogOpen, openDumpDBDialog] = useState(false);\n\tconst [loadDBDialogOpen, openLoadDBDialog] = useState(false);\n\n\t// Data states\n\tconst localDBStr = localStorage.getItem(DATABASE_STORAGE_KEY);\n\tlet localDB: DataBase | undefined;\n\tif (localDBStr) {\n\t\ttry {\n\t\t\tlocalDB = JSON.parse(localDBStr);\n\t\t} catch (error) {}\n\t}\n\tconst [dataBase, setDataBase] = useState(localDB || createFakeDataBase());\n\tconst updateDataBase = (db: DataBase) => {\n\t\tsetDataBase(db);\n\t\tlocalStorage.setItem(DATABASE_STORAGE_KEY, JSON.stringify(db));\n\t};\n\tconst [selectedProject, setSelectedProject] = useState(ALL_PROJECTS);\n\n\t// Methods on database\n\tconst addProject = (name: string, desc: string) => {\n\t\tconst projectId = getNextProjectId(dataBase);\n\t\tdataBase.projects.push({\n\t\t\tname: name,\n\t\t\tdesc: desc,\n\t\t\tid: projectId\n\t\t});\n\t\tupdateDataBase(dataBase);\n\t\tsetSelectedProject(projectId);\n\t};\n\tconst editProject = (id: number, name: string, desc: string) => {\n\t\tdataBase.projects.forEach(p => {\n\t\t\tif (p.id === id) {\n\t\t\t\tp.name = name;\n\t\t\t\tp.desc = desc;\n\t\t\t}\n\t\t});\n\t\tupdateDataBase(dataBase);\n\t};\n\tconst deleteProject = (projectId: number) => {\n\t\tdataBase.projects = dataBase.projects.filter(\n\t\t\t(p: Project) => p.id !== projectId\n\t\t);\n\t\tdataBase.tasks.forEach(\n\t\t\t(t: Task) => t.projectId === projectId && (t.projectId = NO_PROJECT)\n\t\t);\n\t\tupdateDataBase(dataBase);\n\t\tsetSelectedProject(ALL_PROJECTS);\n\t};\n\n\t// Toaster\n\tReactDOM.createPortal(toaster, document.getElementById('root')!);\n\tconst addToast = (message: string, intent: IIntentProps['intent']) => {\n\t\ttoaster.show({ message, intent });\n\t};\n\n\t// Listen to escape and unselect all tasks\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', e => {\n\t\t\tif (e.keyCode === ESCAPE) unselectAll();\n\t\t});\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', e => {\n\t\t\t\tif (e.keyCode === ESCAPE) unselectAll();\n\t\t\t});\n\t\t};\n\t}, [unselectAll]);\n\n\treturn (\n\t\t<div className={theme} id='container'>\n\t\t\t<Navbar\n\t\t\t\tdumpDataBase={() => openDumpDBDialog(true)}\n\t\t\t\tloadDataBase={() => openLoadDBDialog(true)}\n\t\t\t\t{...{\n\t\t\t\t\tsetSelectedProject,\n\t\t\t\t\tdataBase,\n\t\t\t\t\tdeleteProject,\n\t\t\t\t\tselectedProject,\n\t\t\t\t\topenAddProjDialog,\n\t\t\t\t\topenDeleteProjAlert,\n\t\t\t\t\topenEditProjDialog,\n\t\t\t\t\topenAddTaskDialog,\n\t\t\t\t\topenDeleteTaskAlert\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<TaskGroup\n\t\t\t\ttitle='Tasks'\n\t\t\t\ttasks={dataBase.tasks}\n\t\t\t\tselectedProject={selectedProject}\n\t\t\t\topenAddTaskDialog={openAddTaskDialog}\n\t\t\t\topenDeleteTaskAlert={openDeleteTaskAlert}\n\t\t\t/>\n\t\t\t<TaskGroup\n\t\t\t\ttitle='Orphan tasks'\n\t\t\t\ttasks={dataBase.tasks}\n\t\t\t\tselectedProject={NO_PROJECT}\n\t\t\t\tshow={showOrphan}\n\t\t\t\topenAddTaskDialog={openAddTaskDialog}\n\t\t\t\topenDeleteTaskAlert={openDeleteTaskAlert}\n\t\t\t/>\n\t\t\t<div style={{ padding: '50px 50px 0 50px' }}>\n\t\t\t\t<div style={{ display: 'inline' }}>\n\t\t\t\t\t<H3 style={{ display: 'inline-block', marginRight: '10px' }}>\n\t\t\t\t\t\tPlanning\n\t\t\t\t\t</H3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id='footer'>\n\t\t\t\t&copy; 2019 &ndash; Guillaume Comte &ndash; All rights reserved\n\t\t\t</div>\n\t\t\t{/* Overlays : */}\n\t\t\t<AddProjectDialog\n\t\t\t\tisOpen={addProjDialogOpen}\n\t\t\t\tonClose={() => openAddProjDialog(false)}\n\t\t\t\tadd={addProject}\n\t\t\t\tvalidateName={validateProjectName(dataBase)}\n\t\t\t/>\n\t\t\t<EditProjectDialog\n\t\t\t\tisOpen={editProjDialogOpen}\n\t\t\t\tonClose={() => openEditProjDialog(false)}\n\t\t\t\tedit={editProject}\n\t\t\t\tvalidateName={validateProjectName(dataBase)}\n\t\t\t\tproject={getProject(dataBase)(selectedProject)!}\n\t\t\t/>\n\t\t\t<DeleteAlert\n\t\t\t\tconfirmButtonText='Delete project'\n\t\t\t\tisOpen={deleteProjAlertOpen}\n\t\t\t\tonCancel={() => openDeleteProjAlert(false)}\n\t\t\t\tonConfirm={() => {\n\t\t\t\t\topenDeleteProjAlert(false);\n\t\t\t\t\tdeleteProject(selectedProject);\n\t\t\t\t}}\n\t\t\t\tdeletionTargetName={\n\t\t\t\t\tselectedProject === ALL_PROJECTS\n\t\t\t\t\t\t? 'ALL => IMPOSSIBLE'\n\t\t\t\t\t\t: dataBase.projects.find((p: Project) => p.id === selectedProject)!\n\t\t\t\t\t\t\t\t.name\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<AddTaskDialog\n\t\t\t\tisOpen={addTaskDialogOpen}\n\t\t\t\tonClose={() => openAddTaskDialog(false)}\n\t\t\t\tadd={(title: string, desc: string, duration: number | undefined) => {\n\t\t\t\t\tconsole.log(title, desc, duration);\n\t\t\t\t\t// TODO add task\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<DeleteAlert\n\t\t\t\tconfirmButtonText='Delete task'\n\t\t\t\tisOpen={deleteTaskAlertOpen}\n\t\t\t\tonCancel={() => openDeleteTaskAlert(false)}\n\t\t\t\tonConfirm={() => {\n\t\t\t\t\topenDeleteTaskAlert(false);\n\t\t\t\t\t// TODO delete task\n\t\t\t\t}}\n\t\t\t\tdeletionTargetName={'TODO selected task(s)'}\n\t\t\t/>\n\t\t\t<DumpDataBaseDialog\n\t\t\t\tisOpen={dumpDBDialogOpen}\n\t\t\t\tonClose={() => openDumpDBDialog(false)}\n\t\t\t\tdump={JSON.stringify(dataBase, null, '\\t')}\n\t\t\t\tonClipboard={() => addToast('Copied to clipboard !', Intent.SUCCESS)}\n\t\t\t/>\n\t\t\t<LoadDataBaseDialog\n\t\t\t\tisOpen={loadDBDialogOpen}\n\t\t\t\tonClose={() => openLoadDBDialog(false)}\n\t\t\t\tonLoad={(input: string) => {\n\t\t\t\t\tlet newDatabase: any | undefined;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tnewDatabase = JSON.parse(input);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\taddToast('Imported DB format is not correct', Intent.WARNING);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tconst { valid, reason } = validateDB(newDatabase);\n\t\t\t\t\tif (!valid) {\n\t\t\t\t\t\taddToast(reason!, Intent.WARNING);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tupdateDataBase(newDatabase);\n\t\t\t\t\taddToast('DB successfully imported', Intent.SUCCESS);\n\t\t\t\t\treturn true;\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state: AppState): AppStateProps => ({\n\ttheme: state.settings.theme,\n\tshowOrphan: state.settings.showOrphan\n});\n\nconst mapDispatchToProps = (\n\tdispatch: Dispatch<TasksActionTypes>\n): AppDispatchProps => ({\n\tunselectAll: () => dispatch(unselectAll())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\ntype Config = {\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(\n\t\t\t(process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n\t\t\twindow.location.href\n\t\t);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import { Reducer } from 'redux';\nimport {\n\tLIGHT_THEME,\n\tSHOW_BUTTON_TEXT_STORAGE_KEY,\n\tSHOW_ORPHAN_STORAGE_KEY,\n\tTHEME_STORAGE_KEY\n} from '../../utils/constants';\nimport {\n\tSettingsState,\n\tSET_SHOW_BUTTON_TEXT,\n\tSET_SHOW_ORPHAN,\n\tSET_THEME\n} from './types';\n\nconsole.log(localStorage.getItem(SHOW_BUTTON_TEXT_STORAGE_KEY));\nconsole.log(localStorage.getItem(SHOW_BUTTON_TEXT_STORAGE_KEY) === undefined);\n\n// Type-safe initial state\nconst INITIAL_STATE: SettingsState = {\n\ttheme: localStorage.getItem(THEME_STORAGE_KEY) || LIGHT_THEME,\n\tshowOrphan: localStorage.getItem(SHOW_ORPHAN_STORAGE_KEY) === 'true',\n\tshowButtonText: localStorage.getItem(SHOW_BUTTON_TEXT_STORAGE_KEY) === undefined\n\t\t? true\n\t\t: localStorage.getItem(SHOW_BUTTON_TEXT_STORAGE_KEY) === 'true'\n};\n\nconst settingsReducer: Reducer<SettingsState> = (\n\tstate: SettingsState = INITIAL_STATE,\n\taction\n) => {\n\tswitch (action.type) {\n\t\tcase SET_THEME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttheme: action.payload\n\t\t\t};\n\t\tcase SET_SHOW_ORPHAN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tshowOrphan: action.payload\n\t\t\t};\n\t\tcase SET_SHOW_BUTTON_TEXT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tshowButtonText: action.payload\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default settingsReducer;\n","import { Reducer } from 'redux';\nimport { SELECT_TASK, TasksState, UNSELECT_ALL, UNSELECT_TASK } from './types';\n\n// Type-safe initial state\nconst INITIAL_STATE: TasksState = {\n\tselected: []\n};\n\nconst tasksReducer: Reducer<TasksState> = (\n\tstate: TasksState = INITIAL_STATE,\n\taction\n) => {\n\tswitch (action.type) {\n\t\tcase SELECT_TASK:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: state.selected.concat(action.payload)\n\t\t\t};\n\t\tcase UNSELECT_TASK:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: state.selected.filter(x => x !== action.payload)\n\t\t\t};\n\t\tcase UNSELECT_ALL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: []\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default tasksReducer;\n","import { applyMiddleware, combineReducers, createStore, Reducer } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport logger from 'redux-logger';\nimport settingsReducer from './settings/reducer';\nimport { SettingsState } from './settings/types';\nimport tasksReducer from './tasks/reducer';\nimport { TasksState } from './tasks/types';\n\n// The top-level state object\nexport type AppState = {\n\tsettings: SettingsState;\n\ttasks: TasksState;\n};\n\n// Whenever an action is dispatched, Redux will update each top-level application state property\n// using the reducer with the matching name. It's important that the names match exactly, and that\n// the reducer acts on the corresponding ApplicationState property type.\nexport const reducers: Reducer<AppState> = combineReducers<AppState>({\n\tsettings: settingsReducer,\n\ttasks: tasksReducer\n});\n\n// Create the store with the middlewares\nconst middlewares = [logger];\nconst store = createStore(\n\treducers,\n\tcomposeWithDevTools(applyMiddleware(...middlewares))\n);\nexport default store;\n","import { Position, Toaster } from '@blueprintjs/core';\nimport '@blueprintjs/core/lib/css/blueprint.css';\nimport '@blueprintjs/datetime/lib/css/blueprint-datetime.css';\nimport '@blueprintjs/icons/lib/css/blueprint-icons.css';\nimport 'animate.css';\nimport 'normalize.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/app/app';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store';\n\nconst toaster = Toaster.create({\n\tposition: Position.TOP\n});\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App toaster={toaster} />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}