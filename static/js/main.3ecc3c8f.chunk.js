(window["webpackJsonptasks-juggler"]=window["webpackJsonptasks-juggler"]||[]).push([[0],{61:function(e,t,a){e.exports=a(90)},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(104),r=a(10),o=(a(62),a(63),a(64),a(65),a(66),a(0)),c=a.n(o),l=a(11),i=a.n(l),s=a(20),u=a(7),d=a(33),m=a(24),p=a(9),g=p.a.DARK,f=-2,O="ProjectNameValidity::OK",b=function(e){return function(t){return t.length<3?{valid:"ProjectNameValidity::NOK_TOO_SHORT",reason:"Too short"}:e.projects.find(function(e){return e.name.toUpperCase()===t.toUpperCase()})?{valid:"ProjectNameValidity::NOK_NAME_TAKEN",reason:"Project with name ".concat(t," already exists")}:{valid:O}}},h=a(35),E=a(100),j=a(25),v=a(103),y=a(53),C=a(31),T=a(17);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var D=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M256,405.993c-5.52,0-10,4.48-10,10c0,5.52,4.48,10,10,10c5.52,0,10-4.48,10-10 C265.999,410.472,261.52,405.993,256,405.993z"}))),w=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M277.206,263.064c-3.907-3.902-10.239-3.899-14.141,0.009c-1.878,1.88-4.387,2.916-7.064,2.916 c-2.677,0-5.186-1.036-7.064-2.916c-3.903-3.908-10.234-3.912-14.141-0.009c-3.908,3.903-3.912,10.234-0.009,14.141 c5.656,5.664,13.189,8.783,21.213,8.783c8.024,0,15.558-3.119,21.215-8.783C281.118,273.299,281.113,266.967,277.206,263.064z"}))),I=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M256,0.011c-22.055,0-39.998,17.943-39.998,39.998S233.945,80.007,256,80.007c22.055,0,39.998-17.943,39.998-39.998 S278.055,0.011,256,0.011z M256,60.008c-11.027,0-19.999-8.972-19.999-19.999c0-11.028,8.972-19.999,19.999-19.999 c11.028,0,19.999,8.972,19.999,19.999C275.999,51.037,267.027,60.008,256,60.008z"}))),x=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M136.005,40.009c-22.055,0-39.998,17.943-39.998,39.998c0,22.055,17.943,39.998,39.998,39.998 s39.998-17.943,39.998-39.998C176.003,57.952,158.06,40.009,136.005,40.009z M136.005,100.006 c-11.028,0-19.999-8.972-19.999-19.999c0-11.027,8.972-19.999,19.999-19.999s19.999,8.972,19.999,19.999 C156.004,91.035,147.033,100.006,136.005,100.006z"}))),A=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M40.01,137.005c-22.055,0-39.998,17.943-39.998,39.998s17.943,39.998,39.998,39.998c22.055,0,39.998-17.943,39.998-39.998 S62.064,137.005,40.01,137.005z M40.01,197.002c-11.028,0-19.999-8.972-19.999-19.999s8.972-19.999,19.999-19.999 c11.027,0,19.999,8.972,19.999,19.999S51.037,197.002,40.01,197.002z"}))),N=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M375.994,40.009c-22.055,0-39.998,17.943-39.998,39.998c0,22.055,17.943,39.998,39.998,39.998 s39.998-17.943,39.998-39.998C415.993,57.952,398.049,40.009,375.994,40.009z M375.994,100.006 c-11.028,0-19.999-8.972-19.999-19.999c0-11.027,8.972-19.999,19.999-19.999c11.028,0,19.999,8.972,19.999,19.999 C395.993,91.035,387.022,100.006,375.994,100.006z"}))),B=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M471.99,137.005c-22.055,0-39.998,17.943-39.998,39.998s17.943,39.998,39.998,39.998 c22.055,0,39.998-17.943,39.998-39.998S494.045,137.005,471.99,137.005z M471.99,197.002c-11.027,0-19.999-8.972-19.999-19.999 s8.972-19.999,19.999-19.999c11.028,0,19.999,8.972,19.999,19.999S483.018,197.002,471.99,197.002z"}))),P=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M505.269,327.811c-12.26-18.398-37.078-23.37-55.471-11.091c-0.07,0.047-0.139,0.094-0.208,0.143l-48.431,34.123 l-101.276-40.509c15.91-12.842,26.114-32.486,26.114-54.477c0-38.596-31.401-69.997-69.997-69.997 c-38.596,0-69.997,31.401-69.997,69.997c0,21.99,10.202,41.633,26.111,54.475l-101.274,40.511l-48.429-34.121 c-0.072-0.051-0.145-0.101-0.218-0.149c-18.435-12.279-43.225-7.289-55.464,11.096c-12.234,18.359-7.325,43.113,11.003,55.399 l65.918,45.943c0.058,0.04,0.116,0.08,0.174,0.119c11.174,7.443,25.017,8.664,37.045,3.852l45.134-18.053v86.915 c0,5.523,4.477,10,10,10h159.993c5.523,0,10-4.477,10-10v-86.915l45.113,18.045c11.718,4.719,25.656,3.757,37.067-3.844 c0.058-0.039,0.116-0.078,0.174-0.119l65.917-45.942C512.596,370.927,517.506,346.172,505.269,327.811z M206.002,255.999 c0-27.569,22.429-49.998,49.998-49.998c27.569,0,49.998,22.429,49.998,49.998c0,27.569-22.429,49.998-49.998,49.998 C228.431,305.997,206.002,283.569,206.002,255.999z M277.319,325.996L256,357.97l-21.319-31.974H277.319z M29.088,366.75 c-0.057-0.04-0.114-0.079-0.172-0.117c-9.196-6.129-11.68-18.523-5.541-27.736c6.088-9.145,18.401-11.677,27.632-5.604 l5.906,4.161l-23.98,31.976L29.088,366.75z M417.011,412.681c-5.558,3.665-12.463,4.288-18.453,1.876l-58.847-23.539 c-3.082-1.233-6.573-0.856-9.32,1.004c-2.747,1.86-4.394,4.962-4.394,8.281v91.686h-59.997V455.99c0-5.523-4.477-10-10-10 c-5.523,0-10,4.477-10,10v35.998h-59.997v-91.686c0-3.318-1.646-6.42-4.394-8.281c-2.748-1.861-6.239-2.237-9.32-1.004 l-58.847,23.539c-6.086,2.434-12.954,1.75-18.454-1.876L49.35,380.873l23.918-31.895l30.491,21.482 c2.765,1.948,6.329,2.366,9.472,1.109l100.892-40.355l33.557,50.328c1.854,2.781,4.977,4.452,8.32,4.452 c3.343,0,6.465-1.671,8.32-4.452l33.56-50.33l100.891,40.357c3.142,1.257,6.707,0.839,9.473-1.11l26.968-19l20.535,34.225 L417.011,412.681z M483.085,366.633c-0.059,0.039-0.116,0.078-0.173,0.118l-10.719,7.472l-20.586-34.314l9.391-6.616 c9.17-6.052,21.514-3.57,27.632,5.609C494.758,348.101,492.288,360.5,483.085,366.633z"}))),R=c.a.createElement("g",null),M=c.a.createElement("g",null),_=c.a.createElement("g",null),L=c.a.createElement("g",null),G=c.a.createElement("g",null),z=c.a.createElement("g",null),H=c.a.createElement("g",null),F=c.a.createElement("g",null),U=c.a.createElement("g",null),W=c.a.createElement("g",null),J=c.a.createElement("g",null),K=c.a.createElement("g",null),Y=c.a.createElement("g",null),V=c.a.createElement("g",null),q=c.a.createElement("g",null),X=function(e){var t=e.svgRef,a=e.title,n=S(e,["svgRef","title"]);return c.a.createElement("svg",k({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 511.999 511.999",style:{enableBackground:"new 0 0 511.999 511.999"},xmlSpace:"preserve",ref:t},n),c.a.createElement("title",null,a),D,w,I,x,A,N,B,P,R,M,_,L,G,z,H,F,U,W,J,K,Y,V,q)},Z=c.a.forwardRef(function(e,t){return c.a.createElement(X,k({svgRef:t},e))}),$=(a.p,a(101)),Q=function(e){var t=e.openAddProjDialog,a=e.openEditProjDialog,n=e.selectedProject,r=e.openDeleteProjAlert,o=e.dumpDataBase,l=e.loadDataBase;return c.a.createElement($.a,null,c.a.createElement($.a.Divider,{title:"Projects"}),c.a.createElement($.a.Item,{text:"Add project",icon:"add",onClick:function(){return t(!0)}}),c.a.createElement($.a.Item,{text:"Edit project",icon:"edit",disabled:n===f,onClick:function(){return a(!0)}}),c.a.createElement($.a.Item,{text:"Delete project",icon:"trash",intent:"danger",disabled:n===f,onClick:function(){return r(!0)}}),c.a.createElement($.a.Divider,{title:"Database"}),c.a.createElement($.a.Item,{text:"Dump database",icon:"floppy-disk",onClick:o}),c.a.createElement($.a.Item,{text:"Load database",icon:"database",onClick:l}))},ee=a(94),te=a(95),ae="@@settings/SET_THEME",ne=Object(s.b)(function(e){return{theme:e.settings.theme,showOrphan:e.settings.showOrphan,showButtonText:e.settings.showButtonText}},function(e){return{setTheme:function(t){return e(function(e){return{type:ae,payload:e}}(t))},setShowOrphan:function(t){return e(function(e){return{type:"@@settings/SET_SHOW_ORPHAN",payload:e}}(t))},setShowButtonText:function(t){return e(function(e){return{type:"@@settings/SET_SHOW_BUTTON_TEXT",payload:e}}(t))}}})(function(e){var t=e.theme,a=e.setTheme,n=e.showOrphan,r=e.showButtonText,o=e.setShowOrphan,l=e.setShowButtonText;return c.a.createElement(ee.a,{style:{padding:"10px",margin:"0"}},c.a.createElement(te.a,{alignIndicator:j.a.RIGHT,checked:t===g,onChange:function(){var e=""===t?g:"";a(e),localStorage.setItem("tasks-juggler-theme",e)}},(""===t?"Dark":"Light")+" theme"),c.a.createElement(te.a,{alignIndicator:j.a.RIGHT,checked:n,onChange:function(){var e=!n;o(e),localStorage.setItem("tasks-juggler-show-orphan",String(e))}},"Show orphan tasks"),c.a.createElement(te.a,{alignIndicator:j.a.RIGHT,checked:r,onChange:function(){var e=!r;l(e),localStorage.setItem("tasks-juggler-show-button-text",String(e))}},"Show buttons text"))}),re=Object(s.b)(function(e){return{theme:e.settings.theme,showButtonText:e.settings.showButtonText}})(function(e){var t=e.theme,a=e.dumpDataBase,n=e.loadDataBase,l=e.setSelectedProject,i=e.dataBase,s=e.selectedProject,d=e.openDeleteProjAlert,m=e.openAddProjDialog,p=e.openEditProjDialog,O=e.showButtonText,b=[{name:"All",id:f,desc:"All the projects"}].concat(Object(h.a)(i.projects)),k=Object(o.useState)(""),S=Object(u.a)(k,2),D=S[0],w=S[1],I=["bounce","flash","pulse","rubberBand","headShake","swing","tada","wobble","jello","heartBeat"],x=Object(o.useState)(0),A=Object(u.a)(x,2),N=A[0],B=A[1];return c.a.createElement(E.a,null,c.a.createElement(E.a.Group,{align:j.a.LEFT},c.a.createElement(E.a.Heading,{style:{fontWeight:"bold",display:"flex",alignItems:"center"},onMouseEnter:function(){return w("animated "+I[N])},onMouseLeave:function(){w(""),B((N+1)%I.length)}},c.a.createElement(Z,{className:D,style:{animationIterationCount:"infinite"},height:"40px",fill:t===g?"white":"black"}),c.a.createElement("div",{style:{marginLeft:"10px"}},"Tasks Juggler".toUpperCase()))),c.a.createElement(E.a.Group,{align:j.a.RIGHT},c.a.createElement(v.a,{large:!0,onChange:function(e){l(e)},selectedTabId:s},b.map(function(e){return c.a.createElement(v.a.Tab,{title:c.a.createElement(y.a,{content:e.desc,position:r.a.BOTTOM},e.name.toUpperCase()),id:e.id,key:e.id})})),c.a.createElement(E.a.Divider,null),c.a.createElement(C.a,{content:c.a.createElement(Q,{openAddProjDialog:m,openEditProjDialog:p,selectedProject:s,openDeleteProjAlert:d,dumpDataBase:a,loadDataBase:n}),position:r.a.BOTTOM},c.a.createElement(T.b,{minimal:!0,icon:"build",text:O&&"Actions"})),c.a.createElement(C.a,{content:c.a.createElement(ne,null),position:r.a.BOTTOM},c.a.createElement(T.b,{minimal:!0,icon:"cog",text:O&&"Settings"}))))}),oe=a(18),ce=a(54),le=a(55),ie=a(96),se=a(102),ue=function(e){var t=e.type,a=e.what,n=e.disabled,r=e.action,o=Object(oe.a)(e,["type","what","disabled","action"]);return c.a.createElement(ce.a,Object.assign({icon:t,title:"".concat(t.charAt(0).toUpperCase()+t.slice(1)," ").concat(a),canOutsideClickClose:!1},o),c.a.createElement("div",{className:p.a.DIALOG_BODY},o.children),c.a.createElement("div",{className:p.a.DIALOG_FOOTER},c.a.createElement("div",{className:p.a.DIALOG_FOOTER_ACTIONS},c.a.createElement(T.b,{onClick:o.onClose},"Close"),c.a.createElement(T.b,{text:"".concat(t.charAt(0).toUpperCase()+t.slice(1)," ").concat(a),intent:m.a.PRIMARY,onClick:function(){r(),o.onClose()},disabled:n}))))},de=function(e){var t=e.type,a=e.disabled,n=e.action,r=e.errorMessage,o=e.name,l=e.desc,i=e.onNameChange,s=e.onDescChange,u=Object(oe.a)(e,["type","disabled","action","errorMessage","name","desc","onNameChange","onDescChange"]);return c.a.createElement(ue,Object.assign({type:t,what:"project",disabled:a,action:n},u),c.a.createElement(ee.a,{helperText:r,label:"Project name",labelFor:"name-input",labelInfo:"(required)",inline:!0},c.a.createElement(le.a,{id:"name-input",placeholder:"Enter project name here.",value:o,onChange:i,autoFocus:!0})),c.a.createElement(ee.a,{label:"Description",labelFor:"desc-input",labelInfo:"(recommended)"},c.a.createElement(ie.a,{id:"desc-input",placeholder:"Enter a short description of the project here.",style:{width:"100%"},value:l,onChange:s})))},me=function(e){var t=e.add,a=e.validateName,n=Object(oe.a)(e,["add","validateName"]),r=Object(o.useState)(""),l=Object(u.a)(r,2),i=l[0],s=l[1],d=Object(o.useState)(""),m=Object(u.a)(d,2),p=m[0],g=m[1],f=Object(o.useState)(!0),b=Object(u.a)(f,2),h=b[0],E=b[1],j=Object(o.useState)(""),v=Object(u.a)(j,2),y=v[0],C=v[1];return c.a.createElement(de,Object.assign({type:"add",disabled:h,action:function(){return t(i,p)},errorMessage:y,name:i,desc:p,onNameChange:function(e){var t=e.target.value;s(t);var n=a(t),r=n.valid,o=n.reason;E(r!==O),C(o||"")},onDescChange:function(e){return g(e.target.value)}},n))},pe=function(e){var t=e.project,a=e.validateName,n=e.edit,r=Object(oe.a)(e,["project","validateName","edit"]),l=Object(o.useState)("ERROR"),i=Object(u.a)(l,2),s=i[0],d=i[1],m=Object(o.useState)("ERROR"),p=Object(u.a)(m,2),g=p[0],f=p[1];Object(o.useEffect)(function(){t&&(d(t.name),f(t.desc))},[t]);var b=Object(o.useState)(!0),h=Object(u.a)(b,2),E=h[0],j=h[1],v=Object(o.useState)(""),y=Object(u.a)(v,2),C=y[0],T=y[1],k=function(e,n){var r=a(e),o=r.valid,c=r.reason;"ProjectNameValidity::NOK_NAME_TAKEN"===o&&e===t.name&&(n!==t.desc?(o=O,c=""):(o="ProjectNameValidity::NOK_OTHER",c="Nothing changed...")),j(o!==O),T(c||"")};return c.a.createElement(de,Object.assign({type:"edit",disabled:E,action:function(){return n(t.id,s,g)},errorMessage:C,name:s,desc:g,onNameChange:function(e){var t=e.target.value;d(t),k(t,g)},onDescChange:function(e){f(e.target.value),k(s,e.target.value)}},r))},ge=function(e){var t=e.type,a=e.disabled,n=e.action,r=e.errorMessage,o=e.taskTitle,l=e.desc,i=e.duration,s=e.onTitleChange,u=e.onDescChange,d=e.onDurationChange,m=Object(oe.a)(e,["type","disabled","action","errorMessage","taskTitle","desc","duration","onTitleChange","onDescChange","onDurationChange"]);return c.a.createElement(ue,Object.assign({type:t,what:"task",disabled:a,action:n},m),c.a.createElement(ee.a,{helperText:r,label:"Task title",labelFor:"title-input",labelInfo:"(required)",inline:!0},c.a.createElement(le.a,{id:"title-input",placeholder:"Enter task title here.",value:o,onChange:s})),c.a.createElement(ee.a,{label:"Description",labelFor:"desc-input",labelInfo:"(recommended)"},c.a.createElement(ie.a,{id:"desc-input",placeholder:"Enter a short description of the task here.",style:{width:"100%"},value:l,onChange:u})),c.a.createElement(ee.a,{label:"Duration",labelFor:"dur-input",labelInfo:"(optionnal)"},c.a.createElement(se.a,{id:"dur-input",placeholder:"Enter number (float) of days here.",value:i,onChange:d})))},fe=function(e){var t=e.add,a=Object(oe.a)(e,["add"]),n=Object(o.useState)(""),r=Object(u.a)(n,2),l=r[0],i=r[1],s=Object(o.useState)(""),d=Object(u.a)(s,2),m=d[0],p=d[1],g=Object(o.useState)(0),f=Object(u.a)(g,2),O=f[0],b=(f[1],Object(o.useState)(!0)),h=Object(u.a)(b,2),E=h[0],j=(h[1],Object(o.useState)("")),v=Object(u.a)(j,2),y=v[0];v[1];return c.a.createElement(ge,Object.assign({type:"add",disabled:E,action:function(){return t(l,m,O)},errorMessage:y,taskTitle:l,desc:m,duration:O,onTitleChange:function(e){var t=e.target.value;i(t)},onDescChange:function(e){return p(e.target.value)},onDurationChange:function(e){}},a))},Oe=a(97),be=a(87),he=new FileReader,Ee=function(e){var t=e.isOpen,a=e.onClose,n=e.dump,r=e.onClipboard;return c.a.createElement(ce.a,{icon:"database",title:"DataBase dump",isOpen:t,onClose:a},c.a.createElement("div",{className:p.a.DIALOG_BODY},c.a.createElement("p",null,"Copy to clipboard or save it to your files :"),c.a.createElement(ie.a,{id:"dump",readOnly:!0,style:{width:"100%",minHeight:"300px"},defaultValue:n})),c.a.createElement("div",{className:p.a.DIALOG_FOOTER},c.a.createElement("div",{className:p.a.DIALOG_FOOTER_ACTIONS},c.a.createElement(T.b,{text:"Copy to clipboard",icon:"clipboard",intent:m.a.PRIMARY,onClick:function(){document.getElementById("dump").select(),document.execCommand("copy"),r()}}),c.a.createElement(T.b,{text:"Download as JSON",icon:"download",intent:m.a.PRIMARY,onClick:function(){var e=new Blob([n],{type:"text/plain;charset=utf-8"});be.saveAs(e,"tasks-juggler-db.json")}}))))},je=function(e){var t=e.isOpen,a=e.onClose,n=e.onLoad,r=Object(o.useState)(""),l=Object(u.a)(r,2),i=l[0],s=l[1],d=Object(o.useState)(""),g=Object(u.a)(d,2),f=g[0],O=g[1],b=function(e){n(e)&&a()};return c.a.createElement(ce.a,{icon:"database",title:"DataBase dump",isOpen:t,onClose:a},c.a.createElement("div",{className:p.a.DIALOG_BODY},c.a.createElement("p",null,"Copy your database in the following area and click on 'Load' :"),c.a.createElement(ie.a,{autoFocus:!0,id:"dump",style:{width:"100%",minHeight:"100px",marginBottom:"10px"},value:i,onChange:function(e){return s(e.target.value)}}),c.a.createElement("div",{className:p.a.DIALOG_FOOTER_ACTIONS},c.a.createElement(T.b,{text:"Load",disabled:0===i.length,icon:"upload",intent:m.a.PRIMARY,onClick:function(){return b(i)}}))),c.a.createElement("div",{className:p.a.DIALOG_FOOTER},c.a.createElement("p",null,"OR load from your files :"),c.a.createElement("div",{className:p.a.DIALOG_FOOTER_ACTIONS},c.a.createElement(Oe.a,{text:f||"Choose JSON file",buttonText:"Browse",inputProps:{id:"file-input",accept:".json",multiple:!1,onChange:function(e){return O(e.currentTarget.value)}}}),c.a.createElement(T.b,{text:"Load from a file",icon:"folder-open",intent:m.a.PRIMARY,disabled:""===f,onClick:function(){var e=document.getElementById("file-input");he.onload=function(){b(he.result)},he.readAsText(e.files[0])}}))))},ve=a(98),ye=function(e){var t=e.deletionTargetName,a=Object(oe.a)(e,["deletionTargetName"]);return c.a.createElement(ve.a,Object.assign({cancelButtonText:"Cancel",icon:"trash",intent:m.a.DANGER,canEscapeKeyCancel:!0,canOutsideClickCancel:!0},a),c.a.createElement("p",null,"Are you sure you want to delete ".concat(t," ?")))},Ce=a(34),Te=a(27),ke=a(32),Se=function(e){var t,a=e.customClass,n=e.customStyle,r=e.enteringAnimation,o=e.enteredAnimation,l=e.exitingAnimation,i=e.exitedAnimation,s=Object(oe.a)(e,["customClass","customStyle","enteringAnimation","enteredAnimation","exitingAnimation","exitedAnimation"]),u=(t={},Object(Te.a)(t,ke.b,r),Object(Te.a)(t,ke.a,o),Object(Te.a)(t,ke.d,l),Object(Te.a)(t,ke.c,i),t);return c.a.createElement(ke.e,s,function(e){return c.a.createElement("div",{className:"".concat(a||""," animated ").concat(u[e]||""),style:n},s.children)})},De=a(99),we=a(21),Ie=function(e){var t=e.title,a=e.desc,n=e.duration,r=e.onClick,l=Object(o.useState)(!1),i=Object(u.a)(l,2),s=i[0],d=i[1];return c.a.createElement(De.a,{interactive:!0,elevation:we.a.TWO,className:"animated fadeIn fast",onClick:function(){d(!s),r()},style:{border:"2px solid ".concat(s?"#39acac":"rgba(0,0,0,0)")}},c.a.createElement("h3",null,t),c.a.createElement("p",null,a),n&&c.a.createElement("p",null,"".concat(n," day(s)")))},xe=Object(s.b)(function(e){return{showButtonText:e.settings.showButtonText}})(function(e){var t=e.title,a=e.tasks,n=e.selectedProject,r=e.show,l=void 0===r||r,i=e.openAddTaskDialog,s=e.openDeleteTaskAlert,m=e.showButtonText,p=Object(o.useState)([]),g=Object(u.a)(p,2),O=g[0],b=g[1];return c.a.createElement(Se,{in:l,timeout:800,unmountOnExit:!0,customStyle:{padding:"50px 50px 0 50px"},enteringAnimation:"fadeInDown fast",exitingAnimation:"fadeOutUp fast"},c.a.createElement("div",{style:{display:"inline"}},c.a.createElement(d.a,{style:{display:"inline-block",marginRight:"10px"}},t),c.a.createElement(Ce.a,null,c.a.createElement(T.b,{text:m&&"Add task",icon:"add",onClick:function(){return i(!0)}}),c.a.createElement(T.b,{text:m&&"Delete task"+(1!==O.length?"s":""),icon:"trash",onClick:function(){return s(!0)},disabled:0===O.length}))),c.a.createElement("div",{style:{marginTop:"10px",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gridGap:"10px"}},a.filter(function(e){return e.projectId===n||n===f&&-1!==e.projectId}).map(function(e){var t=e.title,a=e.desc,n=e.duration,r=e.id;return c.a.createElement(Ie,Object.assign({title:t,desc:a,duration:n},{key:r,onClick:function(){return function(e){var t=Object(h.a)(O);t.includes(e)?t=O.filter(function(t){return t!==e}):t.push(e),b(t)}(r)}}))})))}),Ae=(a(88),Object(s.b)(function(e){return{theme:e.settings.theme,showOrphan:e.settings.showOrphan}})(function(e){var t,a=e.toaster,n=e.theme,r=e.showOrphan,l=Object(o.useState)(!1),s=Object(u.a)(l,2),p=s[0],g=s[1],O=Object(o.useState)(!1),h=Object(u.a)(O,2),E=h[0],j=h[1],v=Object(o.useState)(!1),y=Object(u.a)(v,2),C=y[0],T=y[1],k=Object(o.useState)(!1),S=Object(u.a)(k,2),D=S[0],w=S[1],I=Object(o.useState)(!1),x=Object(u.a)(I,2),A=x[0],N=x[1],B=Object(o.useState)(!1),P=Object(u.a)(B,2),R=P[0],M=P[1],_=Object(o.useState)(!1),L=Object(u.a)(_,2),G=L[0],z=L[1],H=localStorage.getItem("tasks-juggler-database");if(H)try{t=JSON.parse(H)}catch(ee){}var F=Object(o.useState)(t||function(){var e=0,t=0;return{projects:[{name:"Toto",desc:"toto project",id:e++},{name:"Titi",desc:"titi project",id:e++}],tasks:[{title:"ZombieTask",desc:"I have no project...",id:t++,projectId:-1,duration:1},{title:"TotoTask1",desc:"task 1 of toto project",id:t++,projectId:0,duration:.5},{title:"TotoTask2",desc:"task 2 of toto project",id:t++,projectId:0,duration:1},{title:"TitiTask",desc:"task 1 of titi project",id:t++,projectId:1,duration:1}]}}()),U=Object(u.a)(F,2),W=U[0],J=U[1],K=function(e){J(e),localStorage.setItem("tasks-juggler-database",JSON.stringify(e))},Y=Object(o.useState)(f),V=Object(u.a)(Y,2),q=V[0],X=V[1],Z=function(e){W.projects=W.projects.filter(function(t){return t.id!==e}),W.tasks.forEach(function(t){return t.projectId===e&&(t.projectId=-1)}),K(W),X(f)};i.a.createPortal(a,document.getElementById("root"));var $,Q=function(e,t){a.show({message:e,intent:t})};return c.a.createElement("div",{className:n,id:"container"},c.a.createElement(re,Object.assign({dumpDataBase:function(){return M(!0)},loadDataBase:function(){return z(!0)}},{setSelectedProject:X,dataBase:W,deleteProject:Z,selectedProject:q,openAddProjDialog:j,openDeleteProjAlert:g,openEditProjDialog:T,openAddTaskDialog:N,openDeleteTaskAlert:w})),c.a.createElement(xe,{title:"Tasks",tasks:W.tasks,selectedProject:q,openAddTaskDialog:N,openDeleteTaskAlert:w}),c.a.createElement(xe,{title:"Orphan tasks",tasks:W.tasks,selectedProject:-1,show:r,openAddTaskDialog:N,openDeleteTaskAlert:w}),c.a.createElement("div",{style:{padding:"50px 50px 0 50px"}},c.a.createElement("div",{style:{display:"inline"}},c.a.createElement(d.a,{style:{display:"inline-block",marginRight:"10px"}},"Planning"))),c.a.createElement("div",{id:"footer"},"\xa9 2019 \u2013 Guillaume Comte \u2013 All rights reserved"),c.a.createElement(me,{isOpen:E,onClose:function(){return j(!1)},add:function(e,t){var a=W.projects.map(function(e){return e.id}).reduce(function(e,t){return Math.max(e,t)})+1;W.projects.push({name:e,desc:t,id:a}),K(W),X(a)},validateName:b(W)}),c.a.createElement(pe,{isOpen:C,onClose:function(){return T(!1)},edit:function(e,t,a){W.projects.forEach(function(n){n.id===e&&(n.name=t,n.desc=a)}),K(W)},validateName:b(W),project:($=W,function(e){return $.projects.find(function(t){return t.id===e})})(q)}),c.a.createElement(ye,{confirmButtonText:"Delete project",isOpen:p,onCancel:function(){return g(!1)},onConfirm:function(){g(!1),Z(q)},deletionTargetName:q===f?"ALL => IMPOSSIBLE":W.projects.find(function(e){return e.id===q}).name}),c.a.createElement(fe,{isOpen:A,onClose:function(){return N(!1)},add:function(e,t,a){console.log(e,t,a)}}),c.a.createElement(ye,{confirmButtonText:"Delete task",isOpen:D,onCancel:function(){return w(!1)},onConfirm:function(){w(!1)},deletionTargetName:"TODO selected task(s)"}),c.a.createElement(Ee,{isOpen:R,onClose:function(){return M(!1)},dump:JSON.stringify(W,null,"\t"),onClipboard:function(){return Q("Copied to clipboard !",m.a.SUCCESS)}}),c.a.createElement(je,{isOpen:G,onClose:function(){return z(!1)},onLoad:function(e){var t;try{t=JSON.parse(e)}catch(ee){return Q("Imported DB format is not correct",m.a.WARNING),!1}var a=function(e){if("object"!==typeof e||Array.isArray(e))return{valid:!1,reason:"Imported DB is not an object"};var t=[];if(!e.projects)return{valid:!1,reason:"Imported DB has no 'projects' child"};if(!Array.isArray(e.projects))return{valid:!1,reason:"Imported DB 'projects' is not an array"};if(!e.projects.every(function(e){return void 0!==e.name&&"string"===typeof e.name&&void 0!==e.desc&&"string"===typeof e.desc&&void 0!==e.id&&"number"===typeof e.id&&!t.includes(e.id)&&(t.push(e.id),!0)}))return{valid:!1,reason:"Imported DB projects are not correctly formed"};t.push(-1);var a=[];return e.tasks?Array.isArray(e.tasks)?e.tasks.every(function(e){return void 0!==e.title&&"string"===typeof e.title&&void 0!==e.desc&&"string"===typeof e.desc&&void 0!==e.id&&"number"===typeof e.id&&void 0!==e.projectId&&"number"===typeof e.projectId&&void 0!==e.duration&&"number"===typeof e.duration&&(!a.includes(e.id)&&(a.push(e.id),!!t.includes(e.projectId)))})?{valid:!0}:{valid:!1,reason:"Imported DB tasks are not correctly formed"}:{valid:!1,reason:"Imported DB 'tasks' is not an array"}:{valid:!1,reason:"Imported DB has no 'tasks' child"}}(t),n=a.valid,r=a.reason;return n?(K(t),Q("DB successfully imported",m.a.SUCCESS),!0):(Q(r,m.a.WARNING),!1)}}))}));a(89),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=a(26),Be=a(56),Pe=a(57),Re=a.n(Pe);function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(a,!0).forEach(function(t){Object(Te.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Le={theme:localStorage.getItem("tasks-juggler-theme")||"",showOrphan:Boolean(localStorage.getItem("tasks-juggler-show-orphan")||!1),showButtonText:Boolean(localStorage.getItem("tasks-juggler-show-button-text")||!0)},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return _e({},e,{theme:t.payload});case"@@settings/SET_SHOW_ORPHAN":return _e({},e,{showOrphan:t.payload});case"@@settings/SET_SHOW_BUTTON_TEXT":return _e({},e,{showButtonText:t.payload});default:return e}},ze=Object(Ne.combineReducers)({settings:Ge}),He=[Re.a],Fe=Object(Ne.createStore)(ze,Object(Be.composeWithDevTools)(Ne.applyMiddleware.apply(void 0,He))),Ue=n.a.create({position:r.a.TOP});i.a.render(c.a.createElement(s.a,{store:Fe},c.a.createElement(Ae,{toaster:Ue})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[61,1,2]]]);
//# sourceMappingURL=main.3ecc3c8f.chunk.js.map